<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumera - Komunitas & Boardgame</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Favicon & Metadata -->
    <link rel="icon" href="logo lumera.jpeg" type="image/jpeg">
    <meta property="og:title" content="Lumera - Komunitas & Boardgame Edukasi">
    <meta property="og:description" content="Bergabunglah dengan Lumera untuk mengasah literasi, empati, dan pola pikir melalui keseruan bermain board game.">
    <meta property="og:image" content="logo lumera.jpeg">
    <meta property="og:type" content="website">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        
        /* --- CSS 3D Card Styles --- */
        .scene {
            width: 280px;
            height: 400px;
            perspective: 1000px;
            margin: auto;
            cursor: grab;
        }
        .scene:active {
            cursor: grabbing;
        }
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transform: translateZ(-50px) rotateY(0deg);
            transition: transform 0.1s;
        }
        .card.auto-rotate {
            animation: spin 15s infinite linear;
        }
        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            background: #fff;
            overflow: hidden;
            border: 4px solid white;
        }
        
        .card__face--front {
            transform: rotateY(0deg);
        }
        .card__face--back {
            transform: rotateY(180deg);
        }

        .card__face img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            pointer-events: none;
        }

        @keyframes spin {
            from { transform: translateZ(-50px) rotateY(0deg); }
            to { transform: translateZ(-50px) rotateY(360deg); }
        }

        /* Swiper Custom Styles */
        .swiper {
            width: 100%;
            padding-top: 50px;
            padding-bottom: 50px;
        }
        .swiper-slide {
            background-position: center;
            background-size: cover;
            width: 300px;
            height: 400px;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
            filter: blur(4px);
            opacity: 0.6;
            transition: all 0.3s;
        }
        .swiper-slide-active {
            filter: blur(0px);
            opacity: 1;
            box-shadow: 0 20px 60px rgba(124, 58, 237, 0.3); /* Purple glow */
        }
        .swiper-slide img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
        }
        .swiper-pagination-bullet-active {
            background-color: #9333ea !important; /* Purple-600 */
        }
        .swiper-button-next, .swiper-button-prev {
            color: #9333ea !important;
            background: rgba(255,255,255,0.8);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            backdrop-filter: blur(4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 20px;
            font-weight: bold;
        }

        /* Custom Animation Utilities */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .stagger-1 { transition-delay: 100ms; }
        .stagger-2 { transition-delay: 200ms; }
        .stagger-3 { transition-delay: 300ms; }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        
        .animate-blob {
            animation: blob 7s infinite;
        }
        
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Custom Cursor */
        .cursor-dot,
        .cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: #f97316;
        }
        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 2px solid #f97316;
            transition: width 0.2s, height 0.2s, background-color 0.2s;
        }
        body:hover .cursor-outline { opacity: 1; }
        
        /* Hover state */
        body.hovering .cursor-outline {
            width: 60px;
            height: 60px;
            background-color: rgba(249, 115, 22, 0.1);
            border-color: transparent;
        }

        /* Hide default cursor on desktop */
        @media (pointer: fine) {
            body { cursor: none; }
            a, button, .cursor-pointer { cursor: none; }
        }

        /* --- 3D Hero Text Effect --- */
        .hero-title-3d {
            transition: text-shadow 0.1s, transform 0.1s;
            transform-style: preserve-3d;
            will-change: transform, text-shadow;
        }

        /* --- Animated Gradient Border --- */
        .animated-border {
            position: relative;
            z-index: 0;
            overflow: hidden; /* Clips the spinning gradient to the rounded corners */
        }
        .animated-border::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(transparent, #f97316, #a855f7, #06b6d4, transparent 30%);
            animation: rotate-border 4s linear infinite;
            z-index: -2;
        }
        .animated-border::after {
            content: '';
            position: absolute;
            inset: 3px; /* Border width */
            background: #f8fafc; /* Match bg-slate-50 */
            border-radius: 2.3rem; /* Slightly less than parent */
            z-index: -1;
        }
        @keyframes rotate-border {
            100% { transform: rotate(360deg); }
        }

        /* --- Shape Dividers --- */
        .custom-shape-divider-bottom-1 {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            overflow: hidden;
            line-height: 0;
            transform: rotate(180deg);
        }
        .custom-shape-divider-bottom-1 svg {
            position: relative;
            display: block;
            width: calc(100% + 1.3px);
            height: 60px;
        }
        .custom-shape-divider-bottom-1 .shape-fill {
            fill: #FFFFFF;
        }
        
        /* Wave for About Section (White to Slate-50) */
        .custom-shape-divider-bottom-2 {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            overflow: hidden;
            line-height: 0;
        }
        .custom-shape-divider-bottom-2 svg {
            position: relative;
            display: block;
            width: calc(100% + 1.3px);
            height: 80px;
        }
        .custom-shape-divider-bottom-2 .shape-fill {
            fill: #f8fafc; /* Slate-50 */
        }

        /* --- Preloader --- */
        #preloader {
            position: fixed;
            inset: 0;
            background: #ffffff;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease-out, visibility 0.8s ease-out;
        }
        #preloader.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .loader-logo {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin-bottom: 10px;
            box-shadow: 0 0 40px rgba(249, 115, 22, 0.2);
            animation: spin-logo 8s linear infinite;
            border: 4px solid rgba(249, 115, 22, 0.1);
        }
        @keyframes spin-logo {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .handwriting-wrapper {
            position: relative;
            padding: 10px 20px;
        }
        
        .handwriting-text {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            background: linear-gradient(45deg, #f97316, #db2777);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            white-space: nowrap;
            overflow: hidden;
            width: 0;
            animation: write-cursive 2.5s ease-out forwards;
            animation-delay: 0.3s;
            line-height: 1.2;
            padding-right: 5px; /* Prevent italic cut-off */
        }

        @keyframes write-cursive {
            0% { width: 0; }
            100% { width: 100%; }
        }

        /* --- Typewriter Cursor --- */
        .typewriter-cursor {
            display: inline-block;
            width: 3px;
            background-color: #f97316;
            animation: blink 1s step-end infinite;
            margin-left: 4px;
            vertical-align: middle;
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* --- Smart Navbar & Active Menu --- */
        .nav-hidden {
            transform: translateY(-100%);
        }
        .active-nav {
            background-color: white !important;
            color: #0f172a !important; /* slate-900 */
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        /* --- Ripple Effect --- */
        .ripple-btn {
            position: relative;
            overflow: hidden;
        }
        .ripple {
            position: absolute;
            border-radius: 50%;
            transform: scale(0);
            animation: ripple 0.6s linear;
            background-color: rgba(255, 255, 255, 0.7);
            pointer-events: none;
        }
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* --- Holographic Card Effect --- */
        .holo-card {
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            z-index: 1;
        }
        
        .holo-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                105deg,
                transparent 20%,
                rgba(255, 255, 255, 0.4) 25%,
                rgba(255, 100, 255, 0.2) 30%,
                rgba(100, 255, 255, 0.2) 35%,
                transparent 40%
            );
            z-index: 2;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            mix-blend-mode: color-dodge;
            background-size: 200% 200%;
            animation: holo-shine 3s infinite linear;
            animation-play-state: paused;
        }

        .holo-card:hover::before {
            opacity: 1;
            animation-play-state: running;
        }

        @keyframes holo-shine {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* --- Aurora Gradient Animation --- */
        .aurora-blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.6;
            animation: aurora-float 20s infinite alternate cubic-bezier(0.4, 0, 0.2, 1);
            mix-blend-mode: multiply;
        }

        .aurora-1 {
            top: -10%;
            left: -10%;
            width: 60vw;
            height: 60vw;
            background: radial-gradient(circle, #fdba74 0%, transparent 70%); /* Orange */
            animation-delay: 0s;
        }
        
        .aurora-2 {
            top: 10%;
            right: -20%;
            width: 50vw;
            height: 50vw;
            background: radial-gradient(circle, #d8b4fe 0%, transparent 70%); /* Purple */
            animation-delay: -5s;
        }
        
        .aurora-3 {
            bottom: -20%;
            left: 20%;
            width: 70vw;
            height: 70vw;
            background: radial-gradient(circle, #67e8f9 0%, transparent 70%); /* Cyan */
            animation-delay: -10s;
        }

        .aurora-4 {
            bottom: 30%;
            right: 20%;
            width: 40vw;
            height: 40vw;
            background: radial-gradient(circle, #f9a8d4 0%, transparent 70%); /* Pink */
            animation-delay: -15s;
        }

        @keyframes aurora-float {
            0% { transform: translate(0, 0) scale(1) rotate(0deg); }
            33% { transform: translate(50px, -30px) scale(1.1) rotate(10deg); }
            66% { transform: translate(-20px, 40px) scale(0.9) rotate(-5deg); }
            100% { transform: translate(0, 0) scale(1) rotate(0deg); }
        }

        /* --- Animated Waves --- */
        .waves {
            position: relative;
            width: 100%;
            height: 100px;
            margin-bottom: -7px; /* Fix for gaps */
            min-height: 80px;
            max-height: 150px;
        }
        .parallax > use {
            animation: move-forever 25s cubic-bezier(.55,.5,.45,.5) infinite;
        }
        .parallax > use:nth-child(1) {
            animation-delay: -2s;
            animation-duration: 7s;
        }
        .parallax > use:nth-child(2) {
            animation-delay: -3s;
            animation-duration: 10s;
        }
        .parallax > use:nth-child(3) {
            animation-delay: -4s;
            animation-duration: 13s;
        }
        .parallax > use:nth-child(4) {
            animation-delay: -5s;
            animation-duration: 20s;
        }
        @keyframes move-forever {
            0% { transform: translate3d(-90px,0,0); }
            100% { transform: translate3d(85px,0,0); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-600 antialiased selection:bg-orange-200 selection:text-orange-900 overflow-x-hidden">

    <!-- Preloader -->
    <div id="preloader">
        <img src="logo lumera.jpeg" alt="Lumera" class="loader-logo">
        <div class="handwriting-wrapper">
            <h1 class="handwriting-text">Selamat Datang</h1>
        </div>
    </div>

    <!-- Custom Cursor Elements -->
    <div class="cursor-dot hidden md:block"></div>
    <div class="cursor-outline hidden md:block"></div>

    <!-- Fixed Parallax Background Layers (Aurora Effect) -->
    <div class="fixed inset-0 z-[-1] pointer-events-none overflow-hidden bg-slate-50">
        <!-- Aurora Blobs -->
        <div class="aurora-blob aurora-1"></div>
        <div class="aurora-blob aurora-2"></div>
        <div class="aurora-blob aurora-3"></div>
        <div class="aurora-blob aurora-4"></div>

        <!-- 3D Canvas Layer (Overlay) -->
        <canvas id="canvas3d" class="absolute inset-0 w-full h-full opacity-60 mix-blend-overlay"></canvas>
    </div>

    <!-- Navigation -->
    <nav id="navbar" class="fixed top-0 w-full z-50 transition-all duration-300 bg-white/70 backdrop-blur-xl border-b border-slate-200/50">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <a href="#" class="flex items-center gap-2 group">
                <img src="logo lumera.jpeg" alt="Lumera Logo" class="w-9 h-9 rounded-xl object-cover shadow-lg shadow-orange-500/20 group-hover:scale-110 transition-transform duration-300">
                <span class="text-lg font-bold tracking-tight text-slate-900 group-hover:text-slate-700 transition-colors">Lumera</span>
            </a>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center gap-1 bg-slate-100/50 p-1 rounded-full border border-slate-200/50 backdrop-blur-sm">
                <a href="#about" class="px-5 py-2 text-sm font-medium text-slate-600 rounded-full hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-300">Tentang</a>
                <a href="#game" class="px-5 py-2 text-sm font-medium text-slate-600 rounded-full hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-300">Boardgame</a>
                <a href="#school" class="px-5 py-2 text-sm font-medium text-slate-600 rounded-full hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-300">Program</a>
                <a href="#duta" class="px-5 py-2 text-sm font-medium text-slate-600 rounded-full hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-300">Duta</a>
                <a href="book.html" class="px-5 py-2 text-sm font-medium text-slate-600 rounded-full hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-300">E-Book</a>
            </div>

            <div class="hidden md:flex items-center gap-4">
                <a href="https://wa.me/6285776434538?text=Halo%2C%20saya%20tertarik%20bergabung%20dengan%20Lumera" class="flex items-center gap-2 bg-slate-900 text-white px-5 py-2.5 rounded-full text-sm font-medium hover:bg-slate-800 hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-slate-900/20 active:scale-95">
                    Hubungi Kami
                </a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="md:hidden p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
        </div>


    </nav>

    <!-- Hero Section -->
    <header class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden min-h-screen flex items-center justify-center">
        <!-- Background Decor Removed (Moved to Global Parallax) -->

        <div class="relative z-10 max-w-4xl mx-auto px-6 text-center">
            <div class="reveal inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/50 border border-slate-200/60 backdrop-blur-md text-slate-600 text-sm font-medium mb-8 hover:bg-white hover:border-orange-200 hover:text-orange-600 transition-all duration-300 cursor-default shadow-sm hover:shadow-md">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-2 w-2 bg-orange-500"></span>
                </span>
                Komunitas Membaca dengan Board Game Edukasi
            </div>
            
            <h1 id="hero-title" class="hero-title-3d reveal stagger-1 text-5xl md:text-8xl font-bold text-slate-900 tracking-tight mb-8 leading-[1.1]">
                Membangun <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-pink-600">Komunitas</span>, <br>
                Menciptakan <span class="inline-block text-slate-800 text-center w-[12ch]">
                    <span class="relative inline-block whitespace-nowrap">
                        <span id="typewriter-text"></span><span class="typewriter-cursor">&nbsp;</span>
                        <svg class="absolute w-full h-3 -bottom-1 left-0 text-cyan-300 -z-10" viewBox="0 0 100 10" preserveAspectRatio="none">
                            <path d="M0 5 Q 50 10 100 5" stroke="currentColor" stroke-width="8" fill="none" />
                        </svg>
                    </span>
                </span>
            </h1>
            
            <p class="reveal stagger-2 text-xl md:text-2xl text-slate-500 mb-10 max-w-2xl mx-auto leading-relaxed">
                Bergabunglah dengan Lumera untuk mengasah literasi, empati, dan pola pikir melalui keseruan bermain board game.
            </p>
            
            <div class="reveal stagger-3 flex flex-col sm:flex-row items-center justify-center gap-4">
                <a href="#join" class="confetti-btn ripple-btn group w-full sm:w-auto px-8 py-4 bg-slate-900 text-white rounded-full font-semibold hover:bg-slate-800 transition-all hover:scale-105 hover:shadow-xl hover:shadow-slate-900/20 flex items-center justify-center gap-2 relative overflow-hidden">
                    <span class="relative z-10 flex items-center gap-2">Gabung Sekarang <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i></span>
                    <div class="absolute inset-0 bg-gradient-to-r from-slate-800 to-slate-900 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                </a>
                <a href="#game" class="ripple-btn group w-full sm:w-auto px-8 py-4 bg-white text-slate-700 border border-slate-200 rounded-full font-semibold hover:bg-slate-50 transition-all hover:border-slate-300 flex items-center justify-center gap-2 hover:shadow-lg hover:shadow-slate-200/50">
                    <i data-lucide="dice-5" class="w-4 h-4 text-slate-400 group-hover:text-purple-500 transition-colors"></i> Lihat Boardgame
                </a>
            </div>
        </div>

        <!-- Animated Wave Divider Bottom -->
        <div class="custom-shape-divider-bottom-1" style="transform: none; line-height: 0;">
            <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                <defs>
                    <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
                </defs>
                <g class="parallax">
                    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7)" />
                    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" />
                    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" />
                    <use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
                </g>
            </svg>
        </div>
    </header>

    <!-- About Section -->
    <section id="about" class="py-32 bg-white relative overflow-hidden">
        <!-- Floating Cards Background -->
        <div id="floating-cards-container" class="absolute inset-0 pointer-events-none z-0">
            <!-- Card 1 -->
            <div class="absolute top-[10%] left-[5%] animate-float" style="animation-delay: 0s;">
                <div class="floating-card w-24 h-32 bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border-2 border-orange-100 flex items-center justify-center opacity-60 transition-transform duration-300 ease-out" data-rotate="-15" style="transform: rotate(-15deg);">
                    <i data-lucide="brain-circuit" class="text-orange-200 w-10 h-10"></i>
                </div>
            </div>
            <!-- Card 2 -->
            <div class="absolute top-[20%] right-[10%] animate-float" style="animation-delay: 1s;">
                <div class="floating-card w-20 h-28 bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border-2 border-purple-100 flex items-center justify-center opacity-60 transition-transform duration-300 ease-out" data-rotate="10" style="transform: rotate(10deg);">
                    <i data-lucide="heart-handshake" class="text-purple-200 w-8 h-8"></i>
                </div>
            </div>
            <!-- Card 3 -->
            <div class="absolute bottom-[20%] left-[8%] animate-float" style="animation-delay: 2s;">
                <div class="floating-card w-28 h-36 bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border-2 border-cyan-100 flex items-center justify-center opacity-60 transition-transform duration-300 ease-out" data-rotate="-5" style="transform: rotate(-5deg);">
                    <i data-lucide="book-open-check" class="text-cyan-200 w-12 h-12"></i>
                </div>
            </div>
            <!-- Card 4 -->
            <div class="absolute bottom-[30%] right-[5%] animate-float" style="animation-delay: 1.5s;">
                <div class="floating-card w-24 h-32 bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border-2 border-green-100 flex items-center justify-center opacity-60 transition-transform duration-300 ease-out" data-rotate="20" style="transform: rotate(20deg);">
                    <i data-lucide="users" class="text-green-200 w-10 h-10"></i>
                </div>
            </div>
             <!-- Card 5 (Center-ish) -->
            <div class="absolute top-[45%] left-[45%] animate-float" style="animation-delay: 0.5s;">
                <div class="floating-card w-16 h-24 bg-white rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border-2 border-pink-100 flex items-center justify-center opacity-40 transition-transform duration-300 ease-out" data-rotate="5" style="transform: rotate(5deg);">
                    <i data-lucide="lightbulb" class="text-pink-200 w-6 h-6"></i>
                </div>
            </div>
        </div>

        <div class="max-w-7xl mx-auto px-6 relative z-10">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                <div class="order-2 lg:order-1">
                    <div class="reveal">
                        <h2 class="text-3xl md:text-5xl font-bold text-slate-900 tracking-tight mb-6">Lebih dari Sekadar <br>Bermain Game</h2>
                        <p class="text-lg text-slate-600 mb-10 leading-relaxed">
                            Lumera hadir sebagai wadah bagi generasi muda untuk berkembang. Kami percaya bahwa board game adalah media yang ampuh untuk mengajarkan <span class="bg-orange-100 text-orange-800 px-1 rounded">Literasi</span>, <span class="bg-purple-100 text-purple-800 px-1 rounded">Empati</span>, dan <span class="bg-cyan-100 text-cyan-800 px-1 rounded">Refleksi</span>.
                        </p>
                    </div>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <!-- Value 1 -->
                        <div class="holo-card js-tilt reveal stagger-1 p-5 rounded-2xl bg-white border border-slate-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all duration-300 group cursor-default">
                            <div class="w-12 h-12 rounded-xl bg-orange-50 flex items-center justify-center text-orange-600 mb-4 group-hover:scale-110 group-hover:bg-orange-100 transition-all">
                                <i data-lucide="brain-circuit" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold text-slate-900 mb-2">Mindset</h3>
                            <p class="text-sm text-slate-500 leading-relaxed">Membangun pola pikir kritis dan strategis dalam menghadapi tantangan.</p>
                        </div>
                        <!-- Value 2 -->
                        <div class="holo-card js-tilt reveal stagger-2 p-5 rounded-2xl bg-white border border-slate-100 shadow-sm hover:shadow-md hover:border-purple-200 transition-all duration-300 group cursor-default">
                            <div class="w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center text-purple-600 mb-4 group-hover:scale-110 group-hover:bg-purple-100 transition-all">
                                <i data-lucide="heart-handshake" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold text-slate-900 mb-2">Empathy</h3>
                            <p class="text-sm text-slate-500 leading-relaxed">Belajar memahami perspektif lawan dan kawan dalam dinamika sosial.</p>
                        </div>
                        <!-- Value 3 -->
                        <div class="holo-card js-tilt reveal stagger-1 p-5 rounded-2xl bg-white border border-slate-100 shadow-sm hover:shadow-md hover:border-cyan-200 transition-all duration-300 group cursor-default">
                            <div class="w-12 h-12 rounded-xl bg-cyan-50 flex items-center justify-center text-cyan-600 mb-4 group-hover:scale-110 group-hover:bg-cyan-100 transition-all">
                                <i data-lucide="book-open-check" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold text-slate-900 mb-2">Literacy</h3>
                            <p class="text-sm text-slate-500 leading-relaxed">Meningkatkan kemampuan memahami informasi yang kompleks.</p>
                        </div>
                        <!-- Value 4 -->
                        <div class="holo-card js-tilt reveal stagger-2 p-5 rounded-2xl bg-white border border-slate-100 shadow-sm hover:shadow-md hover:border-green-200 transition-all duration-300 group cursor-default">
                            <div class="w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center text-green-600 mb-4 group-hover:scale-110 group-hover:bg-green-100 transition-all">
                                <i data-lucide="users" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold text-slate-900 mb-2">Awareness</h3>
                            <p class="text-sm text-slate-500 leading-relaxed">Peka terhadap isu sosial sekitar melalui simulasi permainan.</p>
                        </div>
                    </div>
                </div>
                <div class="order-1 lg:order-2 relative reveal">
                    <div class="absolute -inset-4 bg-gradient-to-tr from-orange-200 via-pink-200 to-purple-200 rounded-[2.5rem] opacity-30 blur-2xl animate-pulse"></div>
                    <div class="relative rounded-[2rem] overflow-hidden shadow-2xl shadow-slate-200 group bg-white">
                        <div class="absolute inset-0 bg-black/0 group-hover:bg-transparent transition-colors duration-500 z-10"></div>
                        <img src="logo lumera.jpeg" alt="Lumera Community" class="w-full h-[600px] object-contain p-12 transform group-hover:scale-105 transition-transform duration-1000">
                    </div>
                </div>
            </div>
        </div>

        <!-- Animated Wave Divider Bottom (White to Slate-50) -->
        <div class="custom-shape-divider-bottom-2">
            <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                <defs>
                    <path id="gentle-wave2" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
                </defs>
                <g class="parallax">
                    <use xlink:href="#gentle-wave2" x="48" y="0" fill="rgba(248,250,252,0.7)" />
                    <use xlink:href="#gentle-wave2" x="48" y="3" fill="rgba(248,250,252,0.5)" />
                    <use xlink:href="#gentle-wave2" x="48" y="5" fill="rgba(248,250,252,0.3)" />
                    <use xlink:href="#gentle-wave2" x="48" y="7" fill="#f8fafc" />
                </g>
            </svg>
        </div>
    </section>

    <!-- Single Game Showcase -->
    <section id="game" class="relative py-32 bg-slate-50 border-t border-slate-200">
        <div class="max-w-7xl mx-auto px-6">
            <div class="reveal text-center max-w-2xl mx-auto mb-16">
                <span class="inline-block px-3 py-1 rounded-full bg-purple-100 text-purple-700 font-semibold text-xs tracking-wider uppercase mb-4">Featured Boardgame</span>
                <h2 class="text-3xl md:text-5xl font-bold text-slate-900 tracking-tight mb-4">Lumera Game</h2>
                <p class="text-lg text-slate-600">Sebuah masterpiece strategi dan edukasi dari Lumera yang mengasah kemampuan berpikir kritis dan kolaborasi tim dalam memecahkan kasus.</p>
            </div>

            <!-- Single Feature Card -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                <!-- Image Side (CSS 3D Cube) -->
                <div class="reveal stagger-1 w-full flex justify-center lg:sticky lg:top-32">
                    <div id="product-viewer-container" class="w-full max-w-lg h-[400px] animated-border rounded-[2.5rem] shadow-2xl shadow-purple-900/10 flex items-center justify-center group">
                        
                        <!-- 3D Scene -->
                        <div class="scene">
                            <div class="card auto-rotate" id="card">
                                <div class="card__face card__face--front">
                                    <img id="card-img-front" src="boardgame1.jpeg" alt="Front" onerror="this.src='https://placehold.co/600x800/581c87/white?text=Lumera+Game'">
                                </div>
                                <div class="card__face card__face--back">
                                    <img src="logo lumera.jpeg" alt="Lumera Logo" class="p-12 bg-white object-contain w-full h-full">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Overlay UI -->
                        <div class="absolute bottom-6 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur px-5 py-2.5 rounded-full text-sm font-bold text-slate-700 shadow-lg border border-slate-100 pointer-events-none flex items-center gap-2 transition-opacity group-hover:opacity-0">
                            <i data-lucide="move-3d" class="w-5 h-5 text-purple-600"></i> Drag untuk memutar 360°
                        </div>

                        <!-- Navigation Buttons -->
                        <button id="prevBtn" class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-3 rounded-full shadow-lg text-purple-700 transition-all hover:scale-110 z-20">
                            <i data-lucide="chevron-left" class="w-6 h-6"></i>
                        </button>
                        <button id="nextBtn" class="absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-3 rounded-full shadow-lg text-purple-700 transition-all hover:scale-110 z-20">
                            <i data-lucide="chevron-right" class="w-6 h-6"></i>
                        </button>

                        <!-- Zoom Button -->
                        <button onclick="openLightbox(currentImage)" class="absolute top-6 right-6 bg-white/90 p-3 rounded-full shadow-lg hover:bg-purple-50 text-slate-600 hover:text-purple-600 transition-all z-10" title="Lihat Foto Asli">
                            <i data-lucide="maximize-2" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>                <!-- Content Side -->
                <div class="reveal stagger-2 flex flex-col justify-center relative">
                        <div class="absolute top-0 right-0 p-12 opacity-5 pointer-events-none">
                            <i data-lucide="dice-6" class="w-48 h-48"></i>
                        </div>

                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600">
                                <i data-lucide="trophy" class="w-5 h-5"></i>
                            </div>
                            <span class="text-purple-600 font-semibold text-sm tracking-wide">LUMERA ORIGINAL</span>
                        </div>

                        <h3 class="text-3xl md:text-4xl font-bold text-slate-900 mb-6 tracking-tight">Susun Strategi, <br>Pecahkan Kasus</h3>
                        
                        <div class="text-slate-600 mb-10 leading-relaxed space-y-8 text-sm">
                            <div>
                                <h4 class="font-bold text-slate-900 text-base mb-2">ALUR PERMAINAN LUMERA BOARD GAME</h4>
                                <p>Dilakukan oleh 2 tim yang masing masing berisi 6 orang. Setiap tim harus melewati total 4 zona, yang lebih dulu sampai pada zona 4 ialah pemenangnya. Fasilitator atau adanya kartu petunjuk yang akan menjelaskan tugas dari setiap role yang menjadi syarat dalam berjalannya permainan ini. Tiap tim yang berisi 6 orang mendiskusikan dalam menentukan role nya masing-masing.</p>
                            </div>

                            <div class="space-y-3">
                                <!-- Zona 1 -->
                                <div class="border border-slate-200 rounded-xl overflow-hidden">
                                    <button onclick="toggleAccordion('zona1')" class="w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors text-left group">
                                        <span class="font-bold text-purple-700 group-hover:text-purple-800">ZONA 1 - Team Case Analysis</span>
                                        <i data-lucide="chevron-down" id="icon-zona1" class="w-5 h-5 text-slate-400 transition-transform duration-300"></i>
                                    </button>
                                    <div id="zona1" class="hidden bg-white p-4 border-t border-slate-100">
                                        <ol class="list-decimal list-inside space-y-2 pl-2 marker:text-purple-500 text-slate-600">
                                            <li>Pemain mengambil 1 kartu kasus sebagai tantangan utama.</li>
                                            <li>Masing-masing tim mengumpulkan informasi berdasarkan kasus tersebut dari internet/buku yang diberi waktu 10 menit sesuai role anggota tiap tim.</li>
                                            <li>Perwakilan masing-masing tim mengambil 1 kartu dari total 6 kartu. Setiap pertanyaan dianalisis untuk menentukan: "Pertanyaan ini paling tepat dijawab oleh role ?"</li>
                                            <li>Tiap tim pada zona ini akan mendapat 6 pertanyaan, dimana seluruh role akan membacakan informasi yang telah mereka cari hanya saja tim menyusun strategi dan menganalisis pertanyaan dengan kesesuaian tugas tiap role.</li>
                                            <li>Penilaian berdasarkan: Kecepatan menjawab, Kesesuaian dengan role, Ketepatan isi jawaban.</li>
                                            <li>Pada tiap pertanyaan, tim dengan poin tertinggi berhak melanjutkan menjawab pertanyaan di zona berikutnya lebih dulu.</li>
                                        </ol>
                                    </div>
                                </div>

                                <!-- Zona 2 -->
                                <div class="border border-slate-200 rounded-xl overflow-hidden">
                                    <button onclick="toggleAccordion('zona2')" class="w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors text-left group">
                                        <span class="font-bold text-purple-700 group-hover:text-purple-800">ZONA 2 - Role Duel</span>
                                        <i data-lucide="chevron-down" id="icon-zona2" class="w-5 h-5 text-slate-400 transition-transform duration-300"></i>
                                    </button>
                                    <div id="zona2" class="hidden bg-white p-4 border-t border-slate-100">
                                        <ol class="list-decimal list-inside space-y-2 pl-2 marker:text-purple-500 text-slate-600">
                                            <li>Pemain mengambil kartu duel yang berisi tantangan antar role.</li>
                                            <li>Tiap role dari dua tim saling beradu: Siapa yang menjawab paling cepat dan tepat? Siapa yang jawabannya paling tepat sesuai role-nya?</li>
                                            <li>Role yang memenangkan duel akan menyumbang poin untuk tim.</li>
                                            <li>Tim yang memenangkan duel role terbanyak adalah pemenang zona ini.</li>
                                        </ol>
                                    </div>
                                </div>

                                <!-- Zona 3 -->
                                <div class="border border-slate-200 rounded-xl overflow-hidden">
                                    <button onclick="toggleAccordion('zona3')" class="w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors text-left group">
                                        <span class="font-bold text-purple-700 group-hover:text-purple-800">ZONA 3 - Novel Analyst</span>
                                        <i data-lucide="chevron-down" id="icon-zona3" class="w-5 h-5 text-slate-400 transition-transform duration-300"></i>
                                    </button>
                                    <div id="zona3" class="hidden bg-white p-4 border-t border-slate-100">
                                        <ol class="list-decimal list-inside space-y-2 pl-2 marker:text-purple-500 text-slate-600">
                                            <li>Pemain mengambil 1 Kartu yang berisi informasi serta 6 potongan dialog suatu novel.</li>
                                            <li>Tim membaca dialog-dialog tersebut dan menentukan: Dialog mana yang paling sesuai dengan role mereka untuk dianalisis?</li>
                                            <li>Setiap pemain memberi alasan, contoh: "Sebagai Fact Finder, saya memilih dialog nomor 1 karena saya bisa menemukan data tentang..."</li>
                                            <li>Penilaian berdasarkan: Kesesuaian dialog dengan role, Ketepatan alasan, Kecepatan menentukan pilihan.</li>
                                            <li>Tim dengan poin tertinggi masuk ke zona selanjutnya.</li>
                                        </ol>
                                    </div>
                                </div>

                                <!-- Zona 4 -->
                                <div class="border border-slate-200 rounded-xl overflow-hidden">
                                    <button onclick="toggleAccordion('zona4')" class="w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors text-left group">
                                        <span class="font-bold text-purple-700 group-hover:text-purple-800">ZONA 4 - Reflection Zone (No Role)</span>
                                        <i data-lucide="chevron-down" id="icon-zona4" class="w-5 h-5 text-slate-400 transition-transform duration-300"></i>
                                    </button>
                                    <div id="zona4" class="hidden bg-white p-4 border-t border-slate-100">
                                        <ol class="list-decimal list-inside space-y-2 pl-2 marker:text-purple-500 text-slate-600">
                                            <li>Pemain mengambil kartu pertanyaan terkait refleksi pengalaman mereka di zona 1–3 atau hal lain yang berkaitan dengan pengalaman di luar permainan.</li>
                                            <li>Semua anggota bebas menjawab tanpa terikat role.</li>
                                            <li>Tim yang paling banyak anggotanya berhasil menjawab 1 pertanyaan refleksi dengan baik adalah pemenang zona terakhir.</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-slate-50 p-4 rounded-xl border border-slate-100">
                                <h5 class="font-bold text-slate-900 mb-2">Rangkuman Tiap Zona</h5>
                                <ul class="list-disc list-inside space-y-1 text-xs text-slate-500 marker:text-purple-500">
                                    <li><strong>Zona 1:</strong> Analisis kasus + pilih role yang tepat untuk tiap pertanyaan.</li>
                                    <li><strong>Zona 2:</strong> Duel antar role, adu cepat & tepat.</li>
                                    <li><strong>Zona 3:</strong> Analisis dialog novel sesuai role.</li>
                                    <li><strong>Zona 4:</strong> Refleksi akhir, tanpa role.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="mb-10">
                            <h4 class="font-bold text-slate-900 mb-4">Peran Pemain (Roles)</h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Fact Finder (Penelusur Fakta)</div>
                                    <p class="text-xs text-slate-600">Menjamin jawaban berbasis data, bukti, atau informasi yang dapat diverifikasi.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Analyst (Analis Logika)</div>
                                    <p class="text-xs text-slate-600">Menyusun nalar, hubungan sebab-akibat, dan kerangka argumentasi.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Communicator (Penyampai & Penyusun Pesan)</div>
                                    <p class="text-xs text-slate-600">Mengemas jawaban yang berkaitan dengan penyampaian pesan atau komunikasi efektif.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Empathizer (Penjaga Nilai & Dampak Sosial)</div>
                                    <p class="text-xs text-slate-600">Memastikan jawaban mempertimbangkan nilai moral, empati, dan dampak sosial.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Strategist (Perencana Taktis)</div>
                                    <p class="text-xs text-slate-600">Memberikan strategi penyelesaian masalah yang efektif dan terukur.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Creative Thinker (Inovator & Pencetus Ide)</div>
                                    <p class="text-xs text-slate-600">Menghasilkan alternatif solusi kreatif, inovatif, dan pendekatan baru.</p>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-6 mb-10">
                            <div class="flex flex-col gap-1">
                                <span class="text-xs text-slate-400 font-bold uppercase tracking-wider">Pemain</span>
                                <div class="flex items-center gap-2 text-slate-900 font-bold">
                                    <i data-lucide="users" class="w-4 h-4 text-purple-500"></i> 2 Tim (12 Orang)
                                </div>
                            </div>
                            <div class="flex flex-col gap-1">
                                <span class="text-xs text-slate-400 font-bold uppercase tracking-wider">Durasi</span>
                                <div class="flex items-center gap-2 text-slate-900 font-bold">
                                    <i data-lucide="clock" class="w-4 h-4 text-purple-500"></i> 60 - 90 Menit
                                </div>
                            </div>
                            <div class="flex flex-col gap-1">
                                <span class="text-xs text-slate-400 font-bold uppercase tracking-wider">Usia</span>
                                <div class="flex items-center gap-2 text-slate-900 font-bold">
                                    <i data-lucide="smile" class="w-4 h-4 text-purple-500"></i> 13+ Tahun
                                </div>
                            </div>
                            <div class="flex flex-col gap-1">
                                <span class="text-xs text-slate-400 font-bold uppercase tracking-wider">Kompleksitas</span>
                                <div class="flex items-center gap-2 text-slate-900 font-bold">
                                    <i data-lucide="brain" class="w-4 h-4 text-purple-500"></i> Tinggi
                                </div>
                            </div>
                        </div>

                        <div class="flex flex-col sm:flex-row gap-4">
                            <a href="https://wa.me/6285776434538?text=Halo%20aku%20ingin%20bergabung%20dengan%20keseruan%20boardgame%20Lumera" class="confetti-btn ripple-btn flex-1 inline-flex items-center justify-center gap-2 bg-slate-900 text-white px-8 py-4 rounded-full font-bold hover:bg-slate-800 transition-all hover:scale-[1.02] shadow-xl shadow-slate-900/10">
                                Pre-Order Sekarang
                            </a>
                            <a href="#" class="ripple-btn flex-1 inline-flex items-center justify-center gap-2 bg-purple-50 text-purple-700 border border-purple-100 px-8 py-4 rounded-full font-bold hover:bg-purple-100 transition-all">
                                <i data-lucide="play-circle" class="w-5 h-5"></i> Cara Bermain
                            </a>
                        </div>
                    </div>
            </div>
        </div>
    </section>

    <!-- Program Section: Lumera Goes to School -->
    <section id="school" class="py-32 bg-white">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col md:flex-row md:items-end justify-between mb-12 gap-8">
                <div class="max-w-xl reveal">
                    <span class="text-orange-600 font-bold tracking-wide uppercase text-sm mb-2 block">Outreach Program</span>
                    <h2 class="text-3xl md:text-5xl font-bold text-slate-900 tracking-tight">Lumera Goes to School</h2>
                    <p class="text-lg text-slate-600 mt-6 leading-relaxed">Kami membawa keseruan dan pembelajaran langsung ke sekolah-sekolah untuk menyebarkan semangat literasi melalui metode gamifikasi.</p>
                </div>
                <div class="reveal stagger-2">
                    <a href="https://wa.me/6285776434538?text=halo%20Lumera%2C%20kami%20menunggu%20kedatangan%20lumera%20di%20sekolah%20kami%3A%0A%0AAsal%20Sekolah%3A%0A%0A" class="confetti-btn ripple-btn inline-flex items-center gap-2 text-slate-900 font-bold bg-slate-100 px-6 py-3 rounded-full hover:bg-slate-200 hover:gap-4 transition-all duration-300">
                        Undang Lumera <i data-lucide="arrow-right" class="w-5 h-5"></i>
                    </a>
                </div>
            </div>

            <!-- Gallery Grid with Hover Effects -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 h-96 md:h-[600px]">
                <div class="reveal col-span-2 row-span-2 relative rounded-3xl overflow-hidden group cursor-pointer shadow-lg hover:shadow-2xl transition-all duration-500">
                    <div class="absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors z-10"></div>
                    <img src="https://placehold.co/800x800/e2e8f0/cbd5e1?text=School+Visit+1" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="School Visit 1">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent flex flex-col justify-end p-6 md:p-10 z-20 translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                        <span class="text-orange-300 text-sm font-semibold mb-1 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100">Featured Event</span>
                        <p class="text-white font-bold text-2xl mb-1">SMKN 40 Jakarta</p>
                        <p class="text-slate-200 text-sm">Workshop Board Game Kreatif untuk Kelas 5 & 6</p>
                    </div>
                </div>
                <div class="reveal stagger-1 col-span-1 row-span-1 relative rounded-3xl overflow-hidden group cursor-pointer shadow-md hover:shadow-xl transition-all duration-500">
                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors z-10"></div>
                    <img src="https://placehold.co/400x400/e2e8f0/cbd5e1?text=School+Visit+2" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="School Visit 2">
                    <div class="absolute bottom-4 left-4 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                        <span class="bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-900">Collaboration</span>
                    </div>
                </div>
                <div class="reveal stagger-2 col-span-1 row-span-1 relative rounded-3xl overflow-hidden group cursor-pointer shadow-md hover:shadow-xl transition-all duration-500">
                     <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors z-10"></div>
                    <img src="https://placehold.co/400x400/e2e8f0/cbd5e1?text=School+Visit+3" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="School Visit 3">
                     <div class="absolute bottom-4 left-4 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                        <span class="bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-900">Playtest</span>
                    </div>
                </div>
                <div class="reveal stagger-3 col-span-2 row-span-1 relative rounded-3xl overflow-hidden group cursor-pointer shadow-md hover:shadow-xl transition-all duration-500">
                     <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors z-10"></div>
                    <img src="https://placehold.co/800x400/e2e8f0/cbd5e1?text=School+Visit+4" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="School Visit 4">
                    <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20">
                         <div class="bg-white/20 backdrop-blur-md border border-white/50 p-3 rounded-full">
                            <i data-lucide="plus" class="w-6 h-6 text-white"></i>
                         </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ambassadors Section -->
    <section id="duta" class="pt-8 pb-32 bg-slate-50 border-t border-slate-200">
        <div class="max-w-5xl mx-auto px-6">
            <div class="reveal text-center mb-6">
                <h2 class="text-3xl md:text-5xl font-bold text-slate-900 tracking-tight mb-2">Duta Lumera</h2>
                <p class="text-lg text-slate-600">Sosok inspiratif yang menggerakkan roda komunitas kami dengan dedikasi.</p>
            </div>

            <div class="flex justify-center items-center">
                <div class="reveal group relative w-full max-w-sm bg-white rounded-[2rem] overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 border border-slate-100">
                    <!-- Image Container -->
                    <div class="relative h-96 overflow-hidden">
                        <div class="absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent z-10"></div>
                        <img src="dutalumera.jpeg" alt="Diana Amelia" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                        
                        <!-- Floating Badge -->
                        <div class="absolute top-4 right-4 z-20">
                            <span class="bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-purple-600 shadow-sm flex items-center gap-1">
                                <i data-lucide="award" class="w-3 h-3"></i> Duta 2025
                            </span>
                        </div>
                    </div>

                    <!-- Content -->
                    <div class="relative p-8 text-center -mt-24 z-20">
                        <h3 class="text-2xl font-bold text-white mb-0 leading-none">Diana Amelia</h3>
                        <p class="text-slate-200 text-sm mb-6 font-medium -mt-1">Duta Lumera</p>
                        
                        <div class="bg-white rounded-2xl p-6 shadow-lg shadow-slate-200/50">
                            <p class="text-slate-600 text-sm leading-relaxed mb-6">
                                "Menginspirasi generasi muda untuk kembali menemukan kegembiraan dalam literasi melalui board game."
                            </p>
                            
                            <a href="https://instagram.com/snnayf_" target="_blank" class="ripple-btn inline-flex items-center justify-center gap-2 w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl font-bold hover:shadow-lg hover:shadow-purple-500/30 transition-all hover:-translate-y-1">
                                <i data-lucide="instagram" class="w-4 h-4"></i>
                                @snnayf_
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer / CTA -->
    <footer id="join" class="bg-slate-900 py-32 relative overflow-hidden">
        <!-- Abstract shapes -->
        <div class="absolute top-0 right-0 -translate-y-1/2 translate-x-1/3 w-[800px] h-[800px] bg-orange-500/10 rounded-full blur-[100px] animate-pulse"></div>
        <div class="absolute bottom-0 left-0 translate-y-1/3 -translate-x-1/3 w-[800px] h-[800px] bg-purple-500/10 rounded-full blur-[100px] animate-pulse animation-delay-2000"></div>

        <div class="max-w-4xl mx-auto px-6 text-center relative z-10">
            <div class="reveal">
                <h2 class="text-4xl md:text-6xl font-bold text-white tracking-tight mb-8">Siap Menjadi Bagian dari <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-purple-400">Lumera?</span></h2>
                <p class="text-xl text-slate-300 mb-12 max-w-2xl mx-auto">Mari berkolaborasi, bermain, dan belajar bersama kami. Pintu kami selalu terbuka untuk teman baru yang ingin tumbuh bersama.</p>
                
                <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                    <a href="https://wa.me/6285776434538?text=Halo%2C%20saya%20tertarik%20bergabung%20dengan%20Lumera" class="ripple-btn group w-full sm:w-auto px-8 py-4 bg-[#25D366] text-white rounded-full font-bold hover:bg-[#20bd5a] hover:scale-105 transition-all duration-300 shadow-lg shadow-green-900/20 flex items-center justify-center gap-3">
                        <i data-lucide="message-circle" class="w-5 h-5 fill-current"></i>
                        Chat WhatsApp
                    </a>
                    <a href="https://www.instagram.com/lumera.community_?igsh=ZmhhNW5ubGFmOXVw" class="ripple-btn w-full sm:w-auto px-8 py-4 bg-white/10 text-white backdrop-blur-sm border border-white/10 rounded-full font-bold hover:bg-white/20 transition-all duration-300 flex items-center justify-center gap-3">
                        <i data-lucide="instagram" class="w-5 h-5"></i>
                        Kunjungi Instagram
                    </a>
                </div>
            </div>

            <div class="reveal stagger-3 mt-32 pt-8 border-t border-slate-800 flex flex-col md:flex-row items-center justify-between gap-6">
                <div class="flex items-center gap-3">
                    <img src="logo lumera.jpeg" alt="Lumera Logo" class="w-8 h-8 rounded-full object-cover border border-slate-700">
                    <span class="text-slate-400 font-semibold text-sm">Lumera Community</span>
                </div>
                <div class="flex gap-6">
                     <a href="https://www.instagram.com/lumera.community_?igsh=ZmhhNW5ubGFmOXVw" class="text-slate-500 hover:text-white transition-colors"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                     <a href="#" class="text-slate-500 hover:text-white transition-colors"><i data-lucide="twitter" class="w-5 h-5"></i></a>
                     <a href="#" class="text-slate-500 hover:text-white transition-colors"><i data-lucide="youtube" class="w-5 h-5"></i></a>
                </div>
                <p class="text-slate-600 text-sm">© 2024 Lumera. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed inset-0 z-[100] bg-black/90 hidden opacity-0 transition-opacity duration-300 flex items-center justify-center p-4" onclick="closeLightbox()">
        <button class="absolute top-6 right-6 text-white hover:text-orange-500 transition-colors z-[110]" onclick="closeLightbox()">
            <i data-lucide="x" class="w-10 h-10"></i>
        </button>
        <img id="lightbox-img" src="" alt="Full Preview" class="max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl transform scale-95 transition-transform duration-300" onclick="event.stopPropagation()">
    </div>

    <!-- Mobile Menu Overlay (Cheerful Design) -->
    <div id="mobile-menu" class="fixed inset-0 z-[100] bg-white/95 backdrop-blur-xl transition-all duration-500 opacity-0 invisible flex flex-col justify-center items-center gap-6 md:hidden scale-95 overflow-y-auto">
        <!-- Decorative Blobs -->
        <div class="absolute top-[-10%] left-[-10%] w-64 h-64 bg-orange-300/30 rounded-full mix-blend-multiply filter blur-3xl animate-blob"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-64 h-64 bg-purple-300/30 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"></div>
        
        <!-- Close Button -->
        <button id="close-menu-btn" class="absolute top-6 right-6 p-3 bg-slate-100 rounded-full text-slate-500 hover:bg-slate-200 hover:text-red-500 transition-all hover:rotate-90 shadow-sm z-20">
            <i data-lucide="x" class="w-6 h-6"></i>
        </button>

        <!-- Menu Items -->
        <div class="flex flex-col gap-4 w-full px-6 max-w-sm relative z-10 py-10">
            <div class="text-center mb-4">
                <span class="text-xs font-bold tracking-widest text-slate-400 uppercase">Menu Navigasi</span>
            </div>

            <a href="#about" class="mobile-link group flex items-center gap-4 p-4 bg-white border-2 border-slate-100 rounded-2xl hover:border-orange-400 hover:shadow-lg hover:shadow-orange-100 transition-all duration-300 transform hover:-translate-y-1 active:scale-95">
                <div class="w-12 h-12 rounded-xl bg-orange-100 flex items-center justify-center text-orange-600 group-hover:scale-110 transition-transform shadow-sm">
                    <i data-lucide="smile" class="w-6 h-6"></i>
                </div>
                <div class="flex flex-col">
                    <span class="text-lg font-bold text-slate-700 group-hover:text-orange-600 transition-colors">Tentang Kami</span>
                    <span class="text-xs text-slate-400">Visi & Misi Lumera</span>
                </div>
                <i data-lucide="chevron-right" class="w-5 h-5 text-slate-300 ml-auto group-hover:text-orange-400 group-hover:translate-x-1 transition-all"></i>
            </a>
            
            <a href="#game" class="mobile-link group flex items-center gap-4 p-4 bg-white border-2 border-slate-100 rounded-2xl hover:border-purple-400 hover:shadow-lg hover:shadow-purple-100 transition-all duration-300 transform hover:-translate-y-1 active:scale-95">
                <div class="w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center text-purple-600 group-hover:scale-110 transition-transform shadow-sm">
                    <i data-lucide="dice-5" class="w-6 h-6"></i>
                </div>
                <div class="flex flex-col">
                    <span class="text-lg font-bold text-slate-700 group-hover:text-purple-600 transition-colors">Boardgame</span>
                    <span class="text-xs text-slate-400">Produk & Cara Main</span>
                </div>
                <i data-lucide="chevron-right" class="w-5 h-5 text-slate-300 ml-auto group-hover:text-purple-400 group-hover:translate-x-1 transition-all"></i>
            </a>

            <a href="#school" class="mobile-link group flex items-center gap-4 p-4 bg-white border-2 border-slate-100 rounded-2xl hover:border-cyan-400 hover:shadow-lg hover:shadow-cyan-100 transition-all duration-300 transform hover:-translate-y-1 active:scale-95">
                <div class="w-12 h-12 rounded-xl bg-cyan-100 flex items-center justify-center text-cyan-600 group-hover:scale-110 transition-transform shadow-sm">
                    <i data-lucide="school" class="w-6 h-6"></i>
                </div>
                <div class="flex flex-col">
                    <span class="text-lg font-bold text-slate-700 group-hover:text-cyan-600 transition-colors">Program Sekolah</span>
                    <span class="text-xs text-slate-400">Lumera Goes to School</span>
                </div>
                <i data-lucide="chevron-right" class="w-5 h-5 text-slate-300 ml-auto group-hover:text-cyan-400 group-hover:translate-x-1 transition-all"></i>
            </a>

            <a href="book.html" class="mobile-link group flex items-center gap-4 p-4 bg-white border-2 border-slate-100 rounded-2xl hover:border-pink-400 hover:shadow-lg hover:shadow-pink-100 transition-all duration-300 transform hover:-translate-y-1 active:scale-95">
                <div class="w-12 h-12 rounded-xl bg-pink-100 flex items-center justify-center text-pink-600 group-hover:scale-110 transition-transform shadow-sm">
                    <i data-lucide="book-open" class="w-6 h-6"></i>
                </div>
                <div class="flex flex-col">
                    <span class="text-lg font-bold text-slate-700 group-hover:text-pink-600 transition-colors">Baca E-Book</span>
                    <span class="text-xs text-slate-400">Literasi Digital</span>
                </div>
                <i data-lucide="chevron-right" class="w-5 h-5 text-slate-300 ml-auto group-hover:text-pink-400 group-hover:translate-x-1 transition-all"></i>
            </a>
        </div>

        <a href="https://wa.me/6285776434538?text=Halo%2C%20saya%20tertarik%20bergabung%20dengan%20Lumera" class="mb-10 bg-slate-900 text-white px-8 py-4 rounded-full font-bold shadow-xl hover:scale-105 transition-transform flex items-center gap-3 active:scale-95 z-10">
            <i data-lucide="message-circle" class="w-5 h-5"></i> Hubungi Kami
        </a>
    </div>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // Initialize Icons
        lucide.createIcons();

        // --- Custom Cursor Logic ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');

        if (window.matchMedia("(pointer: fine)").matches) {
            window.addEventListener('mousemove', (e) => {
                const posX = e.clientX;
                const posY = e.clientY;

                cursorDot.style.left = `${posX}px`;
                cursorDot.style.top = `${posY}px`;

                cursorOutline.animate({
                    left: `${posX}px`,
                    top: `${posY}px`
                }, { duration: 500, fill: "forwards" });
            });

            // Add hover effect to interactive elements
            const interactiveElements = document.querySelectorAll('a, button, .cursor-pointer, .js-tilt');
            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
                el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
            });
        }

        // --- Confetti Effect ---
        function fireConfetti() {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#f97316', '#a855f7', '#06b6d4'],
                disableForReducedMotion: true
            });
        }

        document.querySelectorAll('.confetti-btn').forEach(btn => {
            btn.addEventListener('click', fireConfetti);
        });

        // --- Initialize Vanilla Tilt ---
        VanillaTilt.init(document.querySelectorAll(".js-tilt"), {
            max: 10,
            speed: 400,
            glare: true,
            "max-glare": 0.3,
            scale: 1.02
        });

        // --- Parallax Background ---
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const layers = document.querySelectorAll('.parallax-layer');
            
            layers.forEach((layer, index) => {
                // Different speeds for depth effect
                // Index 0: Slowest (Background)
                // Index 2: Fastest (Foreground)
                const speed = (index + 1) * 0.15; 
                const yPos = -(scrolled * speed);
                layer.style.transform = `translateY(${yPos}px)`;
            });
        });

        // Lightbox Functions
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        function openLightbox(src) {
            lightboxImg.src = src;
            lightbox.classList.remove('hidden');
            // Small delay to allow display:block to apply before opacity transition
            setTimeout(() => {
                lightbox.classList.remove('opacity-0');
                lightboxImg.classList.remove('scale-95');
                lightboxImg.classList.add('scale-100');
            }, 10);
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        }

        function closeLightbox() {
            lightbox.classList.add('opacity-0');
            lightboxImg.classList.remove('scale-100');
            lightboxImg.classList.add('scale-95');
            setTimeout(() => {
                lightbox.classList.add('hidden');
                lightboxImg.src = '';
            }, 300);
            document.body.style.overflow = ''; // Restore scrolling
        }

        // Close on Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                closeLightbox();
            }
        });

        // Reveal Animation Observer
        const observerOptions = {
            threshold: 0.1,
            rootMargin: "0px 0px -50px 0px"
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // Mobile Menu Toggle
        const menuBtn = document.getElementById('mobile-menu-btn');
        const closeMenuBtn = document.getElementById('close-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');
        let isMenuOpen = false;

        function toggleMenu() {
            isMenuOpen = !isMenuOpen;
            if (isMenuOpen) {
                // Open Menu
                mobileMenu.classList.remove('invisible', 'opacity-0', 'scale-95');
                mobileMenu.classList.add('visible', 'opacity-100', 'scale-100');
                document.body.style.overflow = 'hidden'; // Lock scroll
            } else {
                // Close Menu
                mobileMenu.classList.add('invisible', 'opacity-0', 'scale-95');
                mobileMenu.classList.remove('visible', 'opacity-100', 'scale-100');
                document.body.style.overflow = ''; // Unlock scroll
            }
        }

        menuBtn.addEventListener('click', toggleMenu);
        if(closeMenuBtn) closeMenuBtn.addEventListener('click', toggleMenu);

        // Close mobile menu on link click
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                if(isMenuOpen) toggleMenu();
            });
        });

        // --- Smart Navbar & Scroll Spy Logic ---
        const navbar = document.getElementById('navbar');
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.hidden.md\\:flex a[href^="#"]');
        let lastScrollTop = 0;

        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

            // 1. Navbar Appearance (Glassmorphism & Shadow)
            if (scrollTop > 20) {
                navbar.classList.add('shadow-sm');
                navbar.classList.replace('bg-white/70', 'bg-white/90');
            } else {
                navbar.classList.remove('shadow-sm');
                navbar.classList.replace('bg-white/90', 'bg-white/70');
            }

            // 2. Smart Navbar (Hide on Scroll Down, Show on Scroll Up)
            if (scrollTop > lastScrollTop && scrollTop > 100) {
                navbar.classList.add('nav-hidden');
            } else {
                navbar.classList.remove('nav-hidden');
            }
            lastScrollTop = scrollTop;

            // 3. Active Menu Highlight (Scroll Spy)
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                // Offset 150px to trigger highlight slightly before section hits top
                if (scrollTop >= (sectionTop - 150)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active-nav');
                if (current && link.getAttribute('href').includes(current)) {
                    link.classList.add('active-nav');
                }
            });
        });

        // --- Three.js 3D Background Logic ---
        const initThreeJS = () => {
            const canvas = document.getElementById('canvas3d');
            const scene = new THREE.Scene();
            
            // Camera setup
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 6;

            // Renderer setup
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            // Lighting (Needed for solid objects)
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            
            const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
            dirLight.position.set(5, 10, 7);
            scene.add(dirLight);

            // Objects Group
            const group = new THREE.Group();
            scene.add(group);

            const colors = [0xf97316, 0xa855f7, 0x06b6d4, 0xec4899]; // Orange, Purple, Cyan, Pink

            // --- Helper Functions to Create Specific Objects ---

            // 1. Create Pawn (Pion) - Combination of Cylinder, Cone, Sphere
            function createPawn(color) {
                const pawnGroup = new THREE.Group();
                const material = new THREE.MeshPhongMaterial({ color: color, flatShading: true, shininess: 30 });
                
                // Base
                const base = new THREE.Mesh(new THREE.CylinderGeometry(0.3, 0.4, 0.1, 16), material);
                base.position.y = -0.4;
                
                // Body
                const body = new THREE.Mesh(new THREE.ConeGeometry(0.25, 0.7, 16), material);
                body.position.y = 0;
                
                // Head
                const head = new THREE.Mesh(new THREE.SphereGeometry(0.2, 16, 16), material);
                head.position.y = 0.45;
                
                pawnGroup.add(base, body, head);
                return pawnGroup;
            }

            // 2. Create Card (Kartu)
            function createCard(color) {
                const geometry = new THREE.BoxGeometry(0.8, 1.1, 0.02);
                const material = new THREE.MeshPhongMaterial({ color: color, shininess: 10 });
                return new THREE.Mesh(geometry, material);
            }

            // 3. Create Dice (Dadu D6)
            function createDice(color) {
                const geometry = new THREE.BoxGeometry(0.6, 0.6, 0.6);
                const material = new THREE.MeshPhongMaterial({ color: color, flatShading: true });
                return new THREE.Mesh(geometry, material);
            }

            // 4. Create D20 (Dadu 20 Sisi)
            function createD20(color) {
                const geometry = new THREE.IcosahedronGeometry(0.5, 0);
                const material = new THREE.MeshPhongMaterial({ color: color, flatShading: true });
                return new THREE.Mesh(geometry, material);
            }

            // --- Generate Floating Objects ---
            const objectTypes = [createPawn, createCard, createDice, createD20];
            const objects = [];

            for (let i = 0; i < 20; i++) {
                const typeFunc = objectTypes[Math.floor(Math.random() * objectTypes.length)];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                const mesh = typeFunc(color);
                
                // Random position spread
                mesh.position.x = (Math.random() - 0.5) * 18;
                mesh.position.y = (Math.random() - 0.5) * 18;
                mesh.position.z = (Math.random() - 0.5) * 12;
                
                // Random rotation
                mesh.rotation.x = Math.random() * Math.PI;
                mesh.rotation.y = Math.random() * Math.PI;

                // Animation data
                mesh.userData = {
                    rotX: (Math.random() - 0.5) * 0.01,
                    rotY: (Math.random() - 0.5) * 0.01,
                    floatSpeed: (Math.random() * 0.002) + 0.001,
                    floatOffset: Math.random() * Math.PI * 2
                };

                group.add(mesh);
                objects.push(mesh);
            }

            // Mouse interaction
            let mouseX = 0;
            let mouseY = 0;
            let targetX = 0;
            let targetY = 0;

            const windowHalfX = window.innerWidth / 2;
            const windowHalfY = window.innerHeight / 2;

            document.addEventListener('mousemove', (event) => {
                mouseX = (event.clientX - windowHalfX);
                mouseY = (event.clientY - windowHalfY);
            });

            // Mobile Gyroscope Interaction for Background
            window.addEventListener('deviceorientation', (e) => {
                if (e.gamma && e.beta) {
                    // Amplify the tilt for better effect
                    mouseX = e.gamma * 10; 
                    mouseY = (e.beta - 45) * 10;
                }
            });

            // Animation Loop
            const animate = () => {
                requestAnimationFrame(animate);

                targetX = mouseX * 0.0005;
                targetY = mouseY * 0.0005;

                // Smooth rotation of the whole group based on mouse
                group.rotation.y += 0.05 * (targetX - group.rotation.y);
                group.rotation.x += 0.05 * (targetY - group.rotation.x);

                // Animate individual objects
                const time = Date.now() * 0.001;
                objects.forEach(obj => {
                    obj.rotation.x += obj.userData.rotX;
                    obj.rotation.y += obj.userData.rotY;
                    
                    // Floating effect
                    obj.position.y += Math.sin(time + obj.userData.floatOffset) * 0.005;
                });

                renderer.render(scene, camera);
            };

            animate();

            // Handle Resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        };

        // Start Three.js when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            initThreeJS(); // Background 3D
            initCSS3DCard(); // Product 3D Card (CSS Version)
            initTypewriter(); // Start Typewriter
        });

        // --- Preloader Logic ---
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            const handwritingWrapper = document.querySelector('.handwriting-wrapper');
            
            // Cek apakah user sudah melihat welcome screen di sesi ini
            if (sessionStorage.getItem('lumera_welcome_shown')) {
                // Jika sudah (refresh atau kembali dari halaman lain), sembunyikan teks
                if (handwritingWrapper) {
                    handwritingWrapper.style.display = 'none';
                }
                
                // Tampilkan logo saja dengan durasi lebih cepat (1 detik)
                setTimeout(() => {
                    preloader.classList.add('hidden');
                    setTimeout(() => {
                        preloader.style.display = 'none';
                    }, 800);
                }, 1000);
            } else {
                // Jika belum (pertama kali buka tab), tandai sudah dilihat
                sessionStorage.setItem('lumera_welcome_shown', 'true');
                
                // Tampilkan animasi lengkap dengan teks (3.5 detik)
                setTimeout(() => {
                    preloader.classList.add('hidden');
                    setTimeout(() => {
                        preloader.style.display = 'none';
                    }, 800);
                }, 3500); 
            }
        });

        // --- Typewriter Logic ---
        function initTypewriter() {
            const textElement = document.getElementById('typewriter-text');
            const words = ["Keseruan", "Inovasi", "Perubahan", "Masa Depan"];
            let wordIndex = 0;
            let charIndex = 0;
            let isDeleting = false;
            let typeSpeed = 100;

            function type() {
                const currentWord = words[wordIndex];
                
                if (isDeleting) {
                    textElement.textContent = currentWord.substring(0, charIndex - 1);
                    charIndex--;
                    typeSpeed = 50; // Faster when deleting
                } else {
                    textElement.textContent = currentWord.substring(0, charIndex + 1);
                    charIndex++;
                    typeSpeed = 150; // Normal typing speed
                }

                if (!isDeleting && charIndex === currentWord.length) {
                    isDeleting = true;
                    typeSpeed = 2000; // Pause at end of word
                } else if (isDeleting && charIndex === 0) {
                    isDeleting = false;
                    wordIndex = (wordIndex + 1) % words.length;
                    typeSpeed = 500; // Pause before typing next word
                }

                setTimeout(type, typeSpeed);
            }

            type();
        }

        // --- CSS 3D Card Logic ---
        let currentImage = 'boardgame1.jpeg'; // Global variable for lightbox

        const initCSS3DCard = () => {
            const card = document.getElementById('card');
            const container = document.getElementById('product-viewer-container');
            const imgFront = document.getElementById('card-img-front');
            
            const images = ['boardgame1.jpeg', 'boardgame2.jpeg', 'boardgame3.jpeg', 'boardgame4.jpeg', 'boardgame.jpeg'];
            let currentIndex = 0;

            // Mouse Interaction Variables
            let isDragging = false;
            let startX, startY;
            let currentRotX = 0;
            let currentRotY = 0;
            let targetRotX = 0;
            let targetRotY = 0;

            // Drag Logic (Mouse)
            container.addEventListener('mousedown', (e) => {
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
                card.classList.remove('auto-rotate'); // Stop auto rotation
                container.style.cursor = 'grabbing';
            });

            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                const deltaX = e.clientX - startX;
                const deltaY = e.clientY - startY;
                
                targetRotY = currentRotY + deltaX * 0.5;
                targetRotX = currentRotX - deltaY * 0.5;
                
                card.style.transform = `translateZ(-50px) rotateX(${targetRotX}deg) rotateY(${targetRotY}deg)`;
            });

            window.addEventListener('mouseup', () => {
                if (isDragging) {
                    isDragging = false;
                    currentRotX = targetRotX;
                    currentRotY = targetRotY;
                    container.style.cursor = 'grab';
                }
            });

            // Drag Logic (Touch - Mobile)
            container.addEventListener('touchstart', (e) => {
                isDragging = true;
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
                card.classList.remove('auto-rotate');
            }, { passive: false });

            window.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                
                // Prevent scrolling ONLY if touching inside the container
                if(e.target.closest('#product-viewer-container')) {
                     e.preventDefault(); 
                }

                const deltaX = e.touches[0].clientX - startX;
                const deltaY = e.touches[0].clientY - startY;
                
                targetRotY = currentRotY + deltaX * 0.5;
                targetRotX = currentRotX - deltaY * 0.5;
                
                card.style.transform = `translateZ(-50px) rotateX(${targetRotX}deg) rotateY(${targetRotY}deg)`;
            }, { passive: false });

            window.addEventListener('touchend', () => {
                if (isDragging) {
                    isDragging = false;
                    currentRotX = targetRotX;
                    currentRotY = targetRotY;
                }
            });

            // Navigation Logic with Animation
            const updateImages = () => {
                const imgPath = images[currentIndex];
                currentImage = imgPath;
                imgFront.src = imgPath;
            };

            const animateFlip = (direction) => {
                card.classList.remove('auto-rotate');
                
                // 1. Slow down for animation
                card.style.transition = 'transform 0.6s cubic-bezier(0.4, 0.0, 0.2, 1)';
                
                // 2. Rotate 180 degrees to show back (Logo)
                targetRotY += 180;
                targetRotX = 0; // Reset tilt
                card.style.transform = `translateZ(-50px) rotateX(${targetRotX}deg) rotateY(${targetRotY}deg)`;

                // 3. Wait for back to be visible
                setTimeout(() => {
                    // Change Image while hidden
                    if (direction === 'next') {
                        currentIndex = (currentIndex + 1) % images.length;
                    } else {
                        currentIndex = (currentIndex - 1 + images.length) % images.length;
                    }
                    updateImages();

                    // 4. Rotate another 180 degrees to show front again
                    targetRotY += 180;
                    card.style.transform = `translateZ(-50px) rotateX(${targetRotX}deg) rotateY(${targetRotY}deg)`;

                    // 5. Reset transition speed
                    setTimeout(() => {
                        card.style.transition = 'transform 0.1s';
                        currentRotY = targetRotY;
                        currentRotX = targetRotX;
                    }, 600);
                }, 600);
            };

            document.getElementById('nextBtn').addEventListener('click', () => animateFlip('next'));
            document.getElementById('prevBtn').addEventListener('click', () => animateFlip('prev'));
        };

        // --- 3D Hero Text Logic (Mouse & Gyroscope) ---
        const heroTitle = document.getElementById('hero-title');
        
        // Helper to apply 3D transform
        const applyHeroTransform = (xPos, yPos) => {
            if (!heroTitle) return;
            
            // Limit rotation
            const rotateX = -yPos * 10; // Max 10deg
            const rotateY = xPos * 10;

            // Apply transform
            heroTitle.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            
            // Apply dynamic shadow
            const shadowX = -xPos * 20;
            const shadowY = -yPos * 20;
            heroTitle.style.textShadow = `${shadowX}px ${shadowY}px 30px rgba(0,0,0,0.15)`;
        };

        // Mouse Interaction
        document.addEventListener('mousemove', (e) => {
            const { clientX, clientY } = e;
            const { innerWidth, innerHeight } = window;
            
            // Calculate percentage from center (-1 to 1)
            const xPos = (clientX / innerWidth - 0.5) * 2;
            const yPos = (clientY / innerHeight - 0.5) * 2;

            applyHeroTransform(xPos, yPos);
        });

        // Mobile Gyroscope Interaction
        window.addEventListener('deviceorientation', (e) => {
            // Gamma: Left/Right tilt (-90 to 90)
            // Beta: Front/Back tilt (-180 to 180)
            
            let xPos = 0;
            let yPos = 0;

            if (e.gamma) xPos = Math.min(Math.max(e.gamma / 45, -1), 1); // Clamp -1 to 1
            if (e.beta)  yPos = Math.min(Math.max((e.beta - 45) / 45, -1), 1); // Offset for holding position

            applyHeroTransform(xPos, yPos);
        });

        // --- Floating Cards Scatter Effect (About Section) ---
        const aboutSection = document.getElementById('about');
        if (aboutSection) {
            aboutSection.addEventListener('mousemove', (e) => {
                const rect = aboutSection.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;

                document.querySelectorAll('.floating-card').forEach(card => {
                    const cardRect = card.getBoundingClientRect();
                    // Calculate center of card relative to section
                    const cardX = cardRect.left - rect.left + cardRect.width / 2;
                    const cardY = cardRect.top - rect.top + cardRect.height / 2;

                    const distX = mouseX - cardX;
                    const distY = mouseY - cardY;
                    const distance = Math.sqrt(distX * distX + distY * distY);
                    
                    const maxDist = 300; // Interaction radius
                    
                    if (distance < maxDist) {
                        const force = (maxDist - distance) / maxDist; // 0 to 1 (1 is closest)
                        const moveX = -(distX / distance) * force * 60; // Move away max 60px
                        const moveY = -(distY / distance) * force * 60;
                        const baseRotate = parseFloat(card.getAttribute('data-rotate'));
                        const rotate = baseRotate + (force * 30); // Spin extra

                        card.style.transform = `translate(${moveX}px, ${moveY}px) rotate(${rotate}deg)`;
                    } else {
                        const baseRotate = parseFloat(card.getAttribute('data-rotate'));
                        card.style.transform = `translate(0, 0) rotate(${baseRotate}deg)`;
                    }
                });
            });

            aboutSection.addEventListener('mouseleave', () => {
                document.querySelectorAll('.floating-card').forEach(card => {
                    const baseRotate = parseFloat(card.getAttribute('data-rotate'));
                    card.style.transform = `translate(0, 0) rotate(${baseRotate}deg)`;
                });
            });
        }

        // --- Ripple Effect Logic ---
        function createRipple(event) {
            const button = event.currentTarget;
            const circle = document.createElement("span");
            const diameter = Math.max(button.clientWidth, button.clientHeight);
            const radius = diameter / 2;

            circle.style.width = circle.style.height = `${diameter}px`;
            circle.style.left = `${event.clientX - button.getBoundingClientRect().left - radius}px`;
            circle.style.top = `${event.clientY - button.getBoundingClientRect().top - radius}px`;
            circle.classList.add("ripple");

            const ripple = button.getElementsByClassName("ripple")[0];

            if (ripple) {
                ripple.remove();
            }

            button.appendChild(circle);
        }

        const buttons = document.querySelectorAll(".ripple-btn");
        for (const button of buttons) {
            button.addEventListener("click", createRipple);
        }

        // --- Accordion Logic ---
        function toggleAccordion(id) {
            const content = document.getElementById(id);
            const icon = document.getElementById('icon-' + id);
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                // Small delay to allow display:block to apply before opacity/height transition if we added one
                // For now, just simple toggle
                icon.style.transform = 'rotate(180deg)';
            } else {
                content.classList.add('hidden');
                icon.style.transform = 'rotate(0deg)';
            }
        }
    </script>
</body>
</html>