<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumera - Komunitas & Boardgame</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        
        /* --- CSS 3D Card Styles --- */
        .scene {
            width: 280px;
            height: 400px;
            perspective: 1000px;
            margin: auto;
            cursor: grab;
        }
        .scene:active {
            cursor: grabbing;
        }
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transform: translateZ(-50px) rotateY(0deg);
            transition: transform 0.1s;
        }
        .card.auto-rotate {
            animation: spin 15s infinite linear;
        }
        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            background: #fff;
            overflow: hidden;
            border: 4px solid white;
        }
        
        .card__face--front {
            transform: rotateY(0deg);
        }
        .card__face--back {
            transform: rotateY(180deg);
        }

        .card__face img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            pointer-events: none;
        }

        @keyframes spin {
            from { transform: translateZ(-50px) rotateY(0deg); }
            to { transform: translateZ(-50px) rotateY(360deg); }
        }

        /* Swiper Custom Styles */
        .swiper {
            width: 100%;
            padding-top: 50px;
            padding-bottom: 50px;
        }
        .swiper-slide {
            background-position: center;
            background-size: cover;
            width: 300px;
            height: 400px;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.2);
            filter: blur(4px);
            opacity: 0.6;
            transition: all 0.3s;
        }
        .swiper-slide-active {
            filter: blur(0px);
            opacity: 1;
            box-shadow: 0 20px 60px rgba(124, 58, 237, 0.3); /* Purple glow */
        }
        .swiper-slide img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
        }
        .swiper-pagination-bullet-active {
            background-color: #9333ea !important; /* Purple-600 */
        }
        .swiper-button-next, .swiper-button-prev {
            color: #9333ea !important;
            background: rgba(255,255,255,0.8);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            backdrop-filter: blur(4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .swiper-button-next:after, .swiper-button-prev:after {
            font-size: 20px;
            font-weight: bold;
        }

        /* Custom Animation Utilities */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .stagger-1 { transition-delay: 100ms; }
        .stagger-2 { transition-delay: 200ms; }
        .stagger-3 { transition-delay: 300ms; }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        
        .animate-blob {
            animation: blob 7s infinite;
        }
        
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Custom Cursor */
        .cursor-dot,
        .cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: #f97316;
        }
        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 2px solid #f97316;
            transition: width 0.2s, height 0.2s, background-color 0.2s;
        }
        body:hover .cursor-outline { opacity: 1; }
        
        /* Hover state */
        body.hovering .cursor-outline {
            width: 60px;
            height: 60px;
            background-color: rgba(249, 115, 22, 0.1);
            border-color: transparent;
        }

        /* Hide default cursor on desktop */
        @media (pointer: fine) {
            body { cursor: none; }
            a, button, .cursor-pointer { cursor: none; }
        }

        /* --- 3D Hero Text Effect --- */
        .hero-title-3d {
            transition: text-shadow 0.1s, transform 0.1s;
            transform-style: preserve-3d;
            will-change: transform, text-shadow;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-600 antialiased selection:bg-orange-200 selection:text-orange-900 overflow-x-hidden">

    <!-- Custom Cursor Elements -->
    <div class="cursor-dot hidden md:block"></div>
    <div class="cursor-outline hidden md:block"></div>

    <!-- Fixed Parallax Background Layers -->
    <div class="fixed inset-0 z-[-1] pointer-events-none overflow-hidden">
        <!-- 3D Canvas Layer -->
        <canvas id="canvas3d" class="absolute inset-0 w-full h-full opacity-60"></canvas>
        
        <!-- Blob 1 -->
        <div class="parallax-layer absolute top-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-orange-300/20 rounded-full blur-[100px] mix-blend-multiply"></div>
        <!-- Blob 2 -->
        <div class="parallax-layer absolute top-[20%] right-[-10%] w-[40vw] h-[40vw] bg-purple-300/20 rounded-full blur-[100px] mix-blend-multiply"></div>
        <!-- Blob 3 -->
        <div class="parallax-layer absolute bottom-[-10%] left-[20%] w-[60vw] h-[60vw] bg-cyan-300/20 rounded-full blur-[100px] mix-blend-multiply"></div>
    </div>

    <!-- Navigation -->
    <nav id="navbar" class="fixed top-0 w-full z-50 transition-all duration-300 bg-white/70 backdrop-blur-xl border-b border-slate-200/50">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <a href="#" class="flex items-center gap-2 group">
                <img src="logo lumera.jpeg" alt="Lumera Logo" class="w-9 h-9 rounded-xl object-cover shadow-lg shadow-orange-500/20 group-hover:scale-110 transition-transform duration-300">
                <span class="text-lg font-bold tracking-tight text-slate-900 group-hover:text-slate-700 transition-colors">Lumera</span>
            </a>
            
            <!-- Desktop Menu -->
            <div class="hidden md:flex items-center gap-1 bg-slate-100/50 p-1 rounded-full border border-slate-200/50 backdrop-blur-sm">
                <a href="#about" class="px-5 py-2 text-sm font-medium text-slate-600 rounded-full hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-300">Tentang</a>
                <a href="#game" class="px-5 py-2 text-sm font-medium text-slate-600 rounded-full hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-300">Boardgame</a>
                <a href="#school" class="px-5 py-2 text-sm font-medium text-slate-600 rounded-full hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-300">Program</a>
                <a href="#duta" class="px-5 py-2 text-sm font-medium text-slate-600 rounded-full hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-300">Duta</a>
            </div>

            <div class="hidden md:flex items-center gap-4">
                <a href="https://wa.me/6285776434538?text=Halo%2C%20saya%20tertarik%20bergabung%20dengan%20Lumera" class="flex items-center gap-2 bg-slate-900 text-white px-5 py-2.5 rounded-full text-sm font-medium hover:bg-slate-800 hover:scale-105 transition-all duration-300 hover:shadow-lg hover:shadow-slate-900/20 active:scale-95">
                    Hubungi Kami
                </a>
            </div>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="md:hidden p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
        </div>

        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu" class="absolute top-full left-0 w-full bg-white border-b border-slate-200 shadow-xl opacity-0 invisible -translate-y-4 transition-all duration-300 flex flex-col p-6 gap-4 md:hidden">
            <a href="#about" class="mobile-link text-base font-medium text-slate-600 py-2 border-b border-slate-100">Tentang</a>
            <a href="#game" class="mobile-link text-base font-medium text-slate-600 py-2 border-b border-slate-100">Boardgame</a>
            <a href="#school" class="mobile-link text-base font-medium text-slate-600 py-2 border-b border-slate-100">Program</a>
            <a href="#duta" class="mobile-link text-base font-medium text-slate-600 py-2 border-b border-slate-100">Duta</a>
            <a href="https://wa.me/6285776434538?text=Halo%2C%20saya%20tertarik%20bergabung%20dengan%20Lumera" class="text-center bg-slate-900 text-white px-5 py-3 rounded-xl text-sm font-medium mt-2">
                Hubungi Kami
            </a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden min-h-screen flex items-center justify-center">
        <!-- Background Decor Removed (Moved to Global Parallax) -->

        <div class="relative z-10 max-w-4xl mx-auto px-6 text-center">
            <div class="reveal inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/50 border border-slate-200/60 backdrop-blur-md text-slate-600 text-sm font-medium mb-8 hover:bg-white hover:border-orange-200 hover:text-orange-600 transition-all duration-300 cursor-default shadow-sm hover:shadow-md">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-2 w-2 bg-orange-500"></span>
                </span>
                Komunitas Membaca dengan Board Game Edukasi
            </div>
            
            <h1 id="hero-title" class="hero-title-3d reveal stagger-1 text-5xl md:text-8xl font-bold text-slate-900 tracking-tight mb-8 leading-[1.1]">
                Membangun <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-pink-600">Komunitas</span>, <br>
                Menciptakan <span class="relative inline-block">
                    Keseruan
                    <svg class="absolute w-full h-3 -bottom-1 left-0 text-cyan-300 -z-10" viewBox="0 0 100 10" preserveAspectRatio="none">
                        <path d="M0 5 Q 50 10 100 5" stroke="currentColor" stroke-width="8" fill="none" />
                    </svg>
                </span>
            </h1>
            
            <p class="reveal stagger-2 text-xl md:text-2xl text-slate-500 mb-10 max-w-2xl mx-auto leading-relaxed">
                Bergabunglah dengan Lumera untuk mengasah literasi, empati, dan pola pikir melalui keseruan bermain board game.
            </p>
            
            <div class="reveal stagger-3 flex flex-col sm:flex-row items-center justify-center gap-4">
                <a href="#join" class="confetti-btn group w-full sm:w-auto px-8 py-4 bg-slate-900 text-white rounded-full font-semibold hover:bg-slate-800 transition-all hover:scale-105 hover:shadow-xl hover:shadow-slate-900/20 flex items-center justify-center gap-2 relative overflow-hidden">
                    <span class="relative z-10 flex items-center gap-2">Gabung Sekarang <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i></span>
                    <div class="absolute inset-0 bg-gradient-to-r from-slate-800 to-slate-900 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                </a>
                <a href="#game" class="group w-full sm:w-auto px-8 py-4 bg-white text-slate-700 border border-slate-200 rounded-full font-semibold hover:bg-slate-50 transition-all hover:border-slate-300 flex items-center justify-center gap-2 hover:shadow-lg hover:shadow-slate-200/50">
                    <i data-lucide="dice-5" class="w-4 h-4 text-slate-400 group-hover:text-purple-500 transition-colors"></i> Lihat Boardgame
                </a>
            </div>
        </div>
    </header>

    <!-- About Section -->
    <section id="about" class="py-32 bg-white relative">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                <div class="order-2 lg:order-1">
                    <div class="reveal">
                        <h2 class="text-3xl md:text-5xl font-bold text-slate-900 tracking-tight mb-6">Lebih dari Sekadar <br>Bermain Game</h2>
                        <p class="text-lg text-slate-600 mb-10 leading-relaxed">
                            Lumera hadir sebagai wadah bagi generasi muda untuk berkembang. Kami percaya bahwa board game adalah media yang ampuh untuk mengajarkan <span class="bg-orange-100 text-orange-800 px-1 rounded">Literasi</span>, <span class="bg-purple-100 text-purple-800 px-1 rounded">Empati</span>, dan <span class="bg-cyan-100 text-cyan-800 px-1 rounded">Refleksi</span>.
                        </p>
                    </div>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <!-- Value 1 -->
                        <div class="js-tilt reveal stagger-1 p-5 rounded-2xl bg-white border border-slate-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all duration-300 group cursor-default">
                            <div class="w-12 h-12 rounded-xl bg-orange-50 flex items-center justify-center text-orange-600 mb-4 group-hover:scale-110 group-hover:bg-orange-100 transition-all">
                                <i data-lucide="brain-circuit" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold text-slate-900 mb-2">Mindset</h3>
                            <p class="text-sm text-slate-500 leading-relaxed">Membangun pola pikir kritis dan strategis dalam menghadapi tantangan.</p>
                        </div>
                        <!-- Value 2 -->
                        <div class="js-tilt reveal stagger-2 p-5 rounded-2xl bg-white border border-slate-100 shadow-sm hover:shadow-md hover:border-purple-200 transition-all duration-300 group cursor-default">
                            <div class="w-12 h-12 rounded-xl bg-purple-50 flex items-center justify-center text-purple-600 mb-4 group-hover:scale-110 group-hover:bg-purple-100 transition-all">
                                <i data-lucide="heart-handshake" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold text-slate-900 mb-2">Empathy</h3>
                            <p class="text-sm text-slate-500 leading-relaxed">Belajar memahami perspektif lawan dan kawan dalam dinamika sosial.</p>
                        </div>
                        <!-- Value 3 -->
                        <div class="js-tilt reveal stagger-1 p-5 rounded-2xl bg-white border border-slate-100 shadow-sm hover:shadow-md hover:border-cyan-200 transition-all duration-300 group cursor-default">
                            <div class="w-12 h-12 rounded-xl bg-cyan-50 flex items-center justify-center text-cyan-600 mb-4 group-hover:scale-110 group-hover:bg-cyan-100 transition-all">
                                <i data-lucide="book-open-check" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold text-slate-900 mb-2">Literacy</h3>
                            <p class="text-sm text-slate-500 leading-relaxed">Meningkatkan kemampuan memahami informasi yang kompleks.</p>
                        </div>
                        <!-- Value 4 -->
                        <div class="js-tilt reveal stagger-2 p-5 rounded-2xl bg-white border border-slate-100 shadow-sm hover:shadow-md hover:border-green-200 transition-all duration-300 group cursor-default">
                            <div class="w-12 h-12 rounded-xl bg-green-50 flex items-center justify-center text-green-600 mb-4 group-hover:scale-110 group-hover:bg-green-100 transition-all">
                                <i data-lucide="users" class="w-6 h-6"></i>
                            </div>
                            <h3 class="font-bold text-slate-900 mb-2">Awareness</h3>
                            <p class="text-sm text-slate-500 leading-relaxed">Peka terhadap isu sosial sekitar melalui simulasi permainan.</p>
                        </div>
                    </div>
                </div>
                <div class="order-1 lg:order-2 relative reveal">
                    <div class="absolute -inset-4 bg-gradient-to-tr from-orange-200 via-pink-200 to-purple-200 rounded-[2.5rem] opacity-30 blur-2xl animate-pulse"></div>
                    <div class="relative rounded-[2rem] overflow-hidden shadow-2xl shadow-slate-200 group bg-white">
                        <div class="absolute inset-0 bg-black/0 group-hover:bg-transparent transition-colors duration-500 z-10"></div>
                        <img src="logo lumera.jpeg" alt="Lumera Community" class="w-full h-[600px] object-contain p-12 transform group-hover:scale-105 transition-transform duration-1000">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Single Game Showcase -->
    <section id="game" class="relative py-32 bg-slate-50 border-t border-slate-200">
        <div class="max-w-7xl mx-auto px-6">
            <div class="reveal text-center max-w-2xl mx-auto mb-16">
                <span class="inline-block px-3 py-1 rounded-full bg-purple-100 text-purple-700 font-semibold text-xs tracking-wider uppercase mb-4">Featured Boardgame</span>
                <h2 class="text-3xl md:text-5xl font-bold text-slate-900 tracking-tight mb-4">Lumera Game</h2>
                <p class="text-lg text-slate-600">Sebuah masterpiece strategi dan edukasi dari Lumera yang mengasah kemampuan berpikir kritis dan kolaborasi tim dalam memecahkan kasus.</p>
            </div>

            <!-- Single Feature Card -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Image Side (CSS 3D Cube) -->
                <div class="reveal stagger-1 w-full flex justify-center">
                    <div id="product-viewer-container" class="w-full max-w-lg h-[400px] relative bg-slate-50 rounded-[2.5rem] border border-slate-200 shadow-2xl shadow-purple-900/10 flex items-center justify-center overflow-hidden group">
                        
                        <!-- 3D Scene -->
                        <div class="scene">
                            <div class="card auto-rotate" id="card">
                                <div class="card__face card__face--front">
                                    <img id="card-img-front" src="boardgame1.jpeg" alt="Front" onerror="this.src='https://placehold.co/600x800/581c87/white?text=Lumera+Game'">
                                </div>
                                <div class="card__face card__face--back">
                                    <img src="logo lumera.jpeg" alt="Lumera Logo" class="p-12 bg-white object-contain w-full h-full">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Overlay UI -->
                        <div class="absolute bottom-6 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur px-5 py-2.5 rounded-full text-sm font-bold text-slate-700 shadow-lg border border-slate-100 pointer-events-none flex items-center gap-2 transition-opacity group-hover:opacity-0">
                            <i data-lucide="move-3d" class="w-5 h-5 text-purple-600"></i> Drag untuk memutar 360°
                        </div>

                        <!-- Navigation Buttons -->
                        <button id="prevBtn" class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-3 rounded-full shadow-lg text-purple-700 transition-all hover:scale-110 z-20">
                            <i data-lucide="chevron-left" class="w-6 h-6"></i>
                        </button>
                        <button id="nextBtn" class="absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white p-3 rounded-full shadow-lg text-purple-700 transition-all hover:scale-110 z-20">
                            <i data-lucide="chevron-right" class="w-6 h-6"></i>
                        </button>

                        <!-- Zoom Button -->
                        <button onclick="openLightbox(currentImage)" class="absolute top-6 right-6 bg-white/90 p-3 rounded-full shadow-lg hover:bg-purple-50 text-slate-600 hover:text-purple-600 transition-all z-10" title="Lihat Foto Asli">
                            <i data-lucide="maximize-2" class="w-5 h-5"></i>
                        </button>
                    </div>
                </div>                <!-- Content Side -->
                <div class="reveal stagger-2 flex flex-col justify-center relative">
                        <div class="absolute top-0 right-0 p-12 opacity-5 pointer-events-none">
                            <i data-lucide="dice-6" class="w-48 h-48"></i>
                        </div>

                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center text-purple-600">
                                <i data-lucide="trophy" class="w-5 h-5"></i>
                            </div>
                            <span class="text-purple-600 font-semibold text-sm tracking-wide">LUMERA ORIGINAL</span>
                        </div>

                        <h3 class="text-3xl md:text-4xl font-bold text-slate-900 mb-6 tracking-tight">Susun Strategi, <br>Pecahkan Kasus</h3>
                        
                        <div class="text-slate-600 mb-10 leading-relaxed space-y-8 text-sm">
                            <div>
                                <h4 class="font-bold text-slate-900 text-base mb-2">ALUR PERMAINAN LUMERA BOARD GAME</h4>
                                <p>Dilakukan oleh 2 tim yang masing masing berisi 6 orang. Setiap tim harus melewati total 4 zona, yang lebih dulu sampai pada zona 4 ialah pemenangnya. Fasilitator atau adanya kartu petunjuk yang akan menjelaskan tugas dari setiap role yang menjadi syarat dalam berjalannya permainan ini. Tiap tim yang berisi 6 orang mendiskusikan dalam menentukan role nya masing-masing.</p>
                            </div>

                            <div>
                                <h5 class="font-bold text-purple-700 mb-1">ZONA 1 - Team Case Analysis</h5>
                                <ol class="list-decimal list-inside space-y-1 pl-2 marker:text-purple-500">
                                    <li>Pemain mengambil 1 kartu kasus sebagai tantangan utama.</li>
                                    <li>Masing-masing tim mengumpulkan informasi berdasarkan kasus tersebut dari internet/buku yang diberi waktu 10 menit sesuai role anggota tiap tim.</li>
                                    <li>Perwakilan masing-masing tim mengambil 1 kartu dari total 6 kartu. Setiap pertanyaan dianalisis untuk menentukan: "Pertanyaan ini paling tepat dijawab oleh role ?"</li>
                                    <li>Tiap tim pada zona ini akan mendapat 6 pertanyaan, dimana seluruh role akan membacakan informasi yang telah mereka cari hanya saja tim menyusun strategi dan menganalisis pertanyaan dengan kesesuaian tugas tiap role.</li>
                                    <li>Penilaian berdasarkan: Kecepatan menjawab, Kesesuaian dengan role, Ketepatan isi jawaban.</li>
                                    <li>Pada tiap pertanyaan, tim dengan poin tertinggi berhak melanjutkan menjawab pertanyaan di zona berikutnya lebih dulu.</li>
                                </ol>
                            </div>

                            <div>
                                <h5 class="font-bold text-purple-700 mb-1">ZONA 2 - Role Duel</h5>
                                <ol class="list-decimal list-inside space-y-1 pl-2 marker:text-purple-500">
                                    <li>Pemain mengambil kartu duel yang berisi tantangan antar role.</li>
                                    <li>Tiap role dari dua tim saling beradu: Siapa yang menjawab paling cepat dan tepat? Siapa yang jawabannya paling tepat sesuai role-nya?</li>
                                    <li>Role yang memenangkan duel akan menyumbang poin untuk tim.</li>
                                    <li>Tim yang memenangkan duel role terbanyak adalah pemenang zona ini.</li>
                                </ol>
                            </div>

                            <div>
                                <h5 class="font-bold text-purple-700 mb-1">ZONA 3 - Novel Analyst</h5>
                                <ol class="list-decimal list-inside space-y-1 pl-2 marker:text-purple-500">
                                    <li>Pemain mengambil 1 Kartu yang berisi informasi serta 6 potongan dialog suatu novel.</li>
                                    <li>Tim membaca dialog-dialog tersebut dan menentukan: Dialog mana yang paling sesuai dengan role mereka untuk dianalisis?</li>
                                    <li>Setiap pemain memberi alasan, contoh: "Sebagai Fact Finder, saya memilih dialog nomor 1 karena saya bisa menemukan data tentang..."</li>
                                    <li>Penilaian berdasarkan: Kesesuaian dialog dengan role, Ketepatan alasan, Kecepatan menentukan pilihan.</li>
                                    <li>Tim dengan poin tertinggi masuk ke zona selanjutnya.</li>
                                </ol>
                            </div>

                            <div>
                                <h5 class="font-bold text-purple-700 mb-1">ZONA 4 - Reflection Zone (No Role)</h5>
                                <ol class="list-decimal list-inside space-y-1 pl-2 marker:text-purple-500">
                                    <li>Pemain mengambil kartu pertanyaan terkait refleksi pengalaman mereka di zona 1–3 atau hal lain yang berkaitan dengan pengalaman di luar permainan.</li>
                                    <li>Semua anggota bebas menjawab tanpa terikat role.</li>
                                    <li>Tim yang paling banyak anggotanya berhasil menjawab 1 pertanyaan refleksi dengan baik adalah pemenang zona terakhir.</li>
                                </ol>
                            </div>

                            <div class="bg-slate-50 p-4 rounded-xl border border-slate-100">
                                <h5 class="font-bold text-slate-900 mb-2">Rangkuman Tiap Zona</h5>
                                <ul class="list-disc list-inside space-y-1 text-xs text-slate-500 marker:text-purple-500">
                                    <li><strong>Zona 1:</strong> Analisis kasus + pilih role yang tepat untuk tiap pertanyaan.</li>
                                    <li><strong>Zona 2:</strong> Duel antar role, adu cepat & tepat.</li>
                                    <li><strong>Zona 3:</strong> Analisis dialog novel sesuai role.</li>
                                    <li><strong>Zona 4:</strong> Refleksi akhir, tanpa role.</li>
                                </ul>
                            </div>
                        </div>

                        <div class="mb-10">
                            <h4 class="font-bold text-slate-900 mb-4">Peran Pemain (Roles)</h4>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Fact Finder (Penelusur Fakta)</div>
                                    <p class="text-xs text-slate-600">Menjamin jawaban berbasis data, bukti, atau informasi yang dapat diverifikasi.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Analyst (Analis Logika)</div>
                                    <p class="text-xs text-slate-600">Menyusun nalar, hubungan sebab-akibat, dan kerangka argumentasi.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Communicator (Penyampai & Penyusun Pesan)</div>
                                    <p class="text-xs text-slate-600">Mengemas jawaban yang berkaitan dengan penyampaian pesan atau komunikasi efektif.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Empathizer (Penjaga Nilai & Dampak Sosial)</div>
                                    <p class="text-xs text-slate-600">Memastikan jawaban mempertimbangkan nilai moral, empati, dan dampak sosial.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Strategist (Perencana Taktis)</div>
                                    <p class="text-xs text-slate-600">Memberikan strategi penyelesaian masalah yang efektif dan terukur.</p>
                                </div>
                                <div class="js-tilt bg-slate-50 p-3 rounded-xl border border-slate-100 hover:border-purple-200 transition-colors">
                                    <div class="font-bold text-purple-700 text-sm mb-1">Creative Thinker (Inovator & Pencetus Ide)</div>
                                    <p class="text-xs text-slate-600">Menghasilkan alternatif solusi kreatif, inovatif, dan pendekatan baru.</p>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-6 mb-10">
                            <div class="flex flex-col gap-1">
                                <span class="text-xs text-slate-400 font-bold uppercase tracking-wider">Pemain</span>
                                <div class="flex items-center gap-2 text-slate-900 font-bold">
                                    <i data-lucide="users" class="w-4 h-4 text-purple-500"></i> 2 Tim (12 Orang)
                                </div>
                            </div>
                            <div class="flex flex-col gap-1">
                                <span class="text-xs text-slate-400 font-bold uppercase tracking-wider">Durasi</span>
                                <div class="flex items-center gap-2 text-slate-900 font-bold">
                                    <i data-lucide="clock" class="w-4 h-4 text-purple-500"></i> 60 - 90 Menit
                                </div>
                            </div>
                            <div class="flex flex-col gap-1">
                                <span class="text-xs text-slate-400 font-bold uppercase tracking-wider">Usia</span>
                                <div class="flex items-center gap-2 text-slate-900 font-bold">
                                    <i data-lucide="smile" class="w-4 h-4 text-purple-500"></i> 13+ Tahun
                                </div>
                            </div>
                            <div class="flex flex-col gap-1">
                                <span class="text-xs text-slate-400 font-bold uppercase tracking-wider">Kompleksitas</span>
                                <div class="flex items-center gap-2 text-slate-900 font-bold">
                                    <i data-lucide="brain" class="w-4 h-4 text-purple-500"></i> Tinggi
                                </div>
                            </div>
                        </div>

                        <div class="flex flex-col sm:flex-row gap-4">
                            <a href="https://wa.me/6285776434538?text=Halo%20aku%20ingin%20bergabung%20dengan%20keseruan%20boardgame%20Lumera" class="confetti-btn flex-1 inline-flex items-center justify-center gap-2 bg-slate-900 text-white px-8 py-4 rounded-full font-bold hover:bg-slate-800 transition-all hover:scale-[1.02] shadow-xl shadow-slate-900/10">
                                Pre-Order Sekarang
                            </a>
                            <a href="#" class="flex-1 inline-flex items-center justify-center gap-2 bg-purple-50 text-purple-700 border border-purple-100 px-8 py-4 rounded-full font-bold hover:bg-purple-100 transition-all">
                                <i data-lucide="play-circle" class="w-5 h-5"></i> Cara Bermain
                            </a>
                        </div>
                    </div>
            </div>
        </div>
    </section>

    <!-- Program Section: Lumera Goes to School -->
    <section id="school" class="py-32 bg-white">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col md:flex-row md:items-end justify-between mb-12 gap-8">
                <div class="max-w-xl reveal">
                    <span class="text-orange-600 font-bold tracking-wide uppercase text-sm mb-2 block">Outreach Program</span>
                    <h2 class="text-3xl md:text-5xl font-bold text-slate-900 tracking-tight">Lumera Goes to School</h2>
                    <p class="text-lg text-slate-600 mt-6 leading-relaxed">Kami membawa keseruan dan pembelajaran langsung ke sekolah-sekolah untuk menyebarkan semangat literasi melalui metode gamifikasi.</p>
                </div>
                <div class="reveal stagger-2">
                    <a href="https://wa.me/6285776434538?text=halo%20Lumera%2C%20kami%20menunggu%20kedatangan%20lumera%20di%20sekolah%20kami%3A%0A%0AAsal%20Sekolah%3A%0A%0A" class="confetti-btn inline-flex items-center gap-2 text-slate-900 font-bold bg-slate-100 px-6 py-3 rounded-full hover:bg-slate-200 hover:gap-4 transition-all duration-300">
                        Undang Lumera <i data-lucide="arrow-right" class="w-5 h-5"></i>
                    </a>
                </div>
            </div>

            <!-- Gallery Grid with Hover Effects -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 h-96 md:h-[600px]">
                <div class="reveal col-span-2 row-span-2 relative rounded-3xl overflow-hidden group cursor-pointer shadow-lg hover:shadow-2xl transition-all duration-500">
                    <div class="absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors z-10"></div>
                    <img src="https://placehold.co/800x800/e2e8f0/cbd5e1?text=School+Visit+1" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="School Visit 1">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent flex flex-col justify-end p-6 md:p-10 z-20 translate-y-4 group-hover:translate-y-0 transition-transform duration-500">
                        <span class="text-orange-300 text-sm font-semibold mb-1 opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100">Featured Event</span>
                        <p class="text-white font-bold text-2xl mb-1">SMKN 40 Jakarta</p>
                        <p class="text-slate-200 text-sm">Workshop Board Game Kreatif untuk Kelas 5 & 6</p>
                    </div>
                </div>
                <div class="reveal stagger-1 col-span-1 row-span-1 relative rounded-3xl overflow-hidden group cursor-pointer shadow-md hover:shadow-xl transition-all duration-500">
                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors z-10"></div>
                    <img src="https://placehold.co/400x400/e2e8f0/cbd5e1?text=School+Visit+2" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="School Visit 2">
                    <div class="absolute bottom-4 left-4 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                        <span class="bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-900">Collaboration</span>
                    </div>
                </div>
                <div class="reveal stagger-2 col-span-1 row-span-1 relative rounded-3xl overflow-hidden group cursor-pointer shadow-md hover:shadow-xl transition-all duration-500">
                     <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors z-10"></div>
                    <img src="https://placehold.co/400x400/e2e8f0/cbd5e1?text=School+Visit+3" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="School Visit 3">
                     <div class="absolute bottom-4 left-4 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                        <span class="bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-slate-900">Playtest</span>
                    </div>
                </div>
                <div class="reveal stagger-3 col-span-2 row-span-1 relative rounded-3xl overflow-hidden group cursor-pointer shadow-md hover:shadow-xl transition-all duration-500">
                     <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors z-10"></div>
                    <img src="https://placehold.co/800x400/e2e8f0/cbd5e1?text=School+Visit+4" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" alt="School Visit 4">
                    <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-20">
                         <div class="bg-white/20 backdrop-blur-md border border-white/50 p-3 rounded-full">
                            <i data-lucide="plus" class="w-6 h-6 text-white"></i>
                         </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ambassadors Section -->
    <section id="duta" class="py-32 bg-slate-50 border-t border-slate-200">
        <div class="max-w-5xl mx-auto px-6">
            <div class="reveal text-center mb-16">
                <h2 class="text-3xl md:text-5xl font-bold text-slate-900 tracking-tight mb-6">Duta Lumera</h2>
                <p class="text-lg text-slate-600">Sosok inspiratif yang menggerakkan roda komunitas kami dengan dedikasi.</p>
            </div>

            <div class="flex justify-center items-center py-12">
                <p class="text-slate-400 italic">Profil Duta Lumera akan segera hadir.</p>
            </div>
        </div>
    </section>

    <!-- Footer / CTA -->
    <footer id="join" class="bg-slate-900 py-32 relative overflow-hidden">
        <!-- Abstract shapes -->
        <div class="absolute top-0 right-0 -translate-y-1/2 translate-x-1/3 w-[800px] h-[800px] bg-orange-500/10 rounded-full blur-[100px] animate-pulse"></div>
        <div class="absolute bottom-0 left-0 translate-y-1/3 -translate-x-1/3 w-[800px] h-[800px] bg-purple-500/10 rounded-full blur-[100px] animate-pulse animation-delay-2000"></div>

        <div class="max-w-4xl mx-auto px-6 text-center relative z-10">
            <div class="reveal">
                <h2 class="text-4xl md:text-6xl font-bold text-white tracking-tight mb-8">Siap Menjadi Bagian dari <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-purple-400">Lumera?</span></h2>
                <p class="text-xl text-slate-300 mb-12 max-w-2xl mx-auto">Mari berkolaborasi, bermain, dan belajar bersama kami. Pintu kami selalu terbuka untuk teman baru yang ingin tumbuh bersama.</p>
                
                <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                    <a href="https://wa.me/6285776434538?text=Halo%2C%20saya%20tertarik%20bergabung%20dengan%20Lumera" class="group w-full sm:w-auto px-8 py-4 bg-[#25D366] text-white rounded-full font-bold hover:bg-[#20bd5a] hover:scale-105 transition-all duration-300 shadow-lg shadow-green-900/20 flex items-center justify-center gap-3">
                        <i data-lucide="message-circle" class="w-5 h-5 fill-current"></i>
                        Chat WhatsApp
                    </a>
                    <a href="https://www.instagram.com/lumera.community_?igsh=ZmhhNW5ubGFmOXVw" class="w-full sm:w-auto px-8 py-4 bg-white/10 text-white backdrop-blur-sm border border-white/10 rounded-full font-bold hover:bg-white/20 transition-all duration-300 flex items-center justify-center gap-3">
                        <i data-lucide="instagram" class="w-5 h-5"></i>
                        Kunjungi Instagram
                    </a>
                </div>
            </div>

            <div class="reveal stagger-3 mt-32 pt-8 border-t border-slate-800 flex flex-col md:flex-row items-center justify-between gap-6">
                <div class="flex items-center gap-3">
                    <img src="logo lumera.jpeg" alt="Lumera Logo" class="w-8 h-8 rounded-full object-cover border border-slate-700">
                    <span class="text-slate-400 font-semibold text-sm">Lumera Community</span>
                </div>
                <div class="flex gap-6">
                     <a href="https://www.instagram.com/lumera.community_?igsh=ZmhhNW5ubGFmOXVw" class="text-slate-500 hover:text-white transition-colors"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                     <a href="#" class="text-slate-500 hover:text-white transition-colors"><i data-lucide="twitter" class="w-5 h-5"></i></a>
                     <a href="#" class="text-slate-500 hover:text-white transition-colors"><i data-lucide="youtube" class="w-5 h-5"></i></a>
                </div>
                <p class="text-slate-600 text-sm">© 2024 Lumera. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed inset-0 z-[100] bg-black/90 hidden opacity-0 transition-opacity duration-300 flex items-center justify-center p-4" onclick="closeLightbox()">
        <button class="absolute top-6 right-6 text-white hover:text-orange-500 transition-colors z-[110]" onclick="closeLightbox()">
            <i data-lucide="x" class="w-10 h-10"></i>
        </button>
        <img id="lightbox-img" src="" alt="Full Preview" class="max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl transform scale-95 transition-transform duration-300" onclick="event.stopPropagation()">
    </div>

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>

    <script>
        // Initialize Icons
        lucide.createIcons();

        // --- Custom Cursor Logic ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');

        if (window.matchMedia("(pointer: fine)").matches) {
            window.addEventListener('mousemove', (e) => {
                const posX = e.clientX;
                const posY = e.clientY;

                cursorDot.style.left = `${posX}px`;
                cursorDot.style.top = `${posY}px`;

                cursorOutline.animate({
                    left: `${posX}px`,
                    top: `${posY}px`
                }, { duration: 500, fill: "forwards" });
            });

            // Add hover effect to interactive elements
            const interactiveElements = document.querySelectorAll('a, button, .cursor-pointer, .js-tilt');
            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
                el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
            });
        }

        // --- Confetti Effect ---
        function fireConfetti() {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#f97316', '#a855f7', '#06b6d4'],
                disableForReducedMotion: true
            });
        }

        document.querySelectorAll('.confetti-btn').forEach(btn => {
            btn.addEventListener('click', fireConfetti);
        });

        // --- Initialize Vanilla Tilt ---
        VanillaTilt.init(document.querySelectorAll(".js-tilt"), {
            max: 10,
            speed: 400,
            glare: true,
            "max-glare": 0.3,
            scale: 1.02
        });

        // --- Parallax Background ---
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const layers = document.querySelectorAll('.parallax-layer');
            
            layers.forEach((layer, index) => {
                // Different speeds for depth effect
                // Index 0: Slowest (Background)
                // Index 2: Fastest (Foreground)
                const speed = (index + 1) * 0.15; 
                const yPos = -(scrolled * speed);
                layer.style.transform = `translateY(${yPos}px)`;
            });
        });

        // Lightbox Functions
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');

        function openLightbox(src) {
            lightboxImg.src = src;
            lightbox.classList.remove('hidden');
            // Small delay to allow display:block to apply before opacity transition
            setTimeout(() => {
                lightbox.classList.remove('opacity-0');
                lightboxImg.classList.remove('scale-95');
                lightboxImg.classList.add('scale-100');
            }, 10);
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        }

        function closeLightbox() {
            lightbox.classList.add('opacity-0');
            lightboxImg.classList.remove('scale-100');
            lightboxImg.classList.add('scale-95');
            setTimeout(() => {
                lightbox.classList.add('hidden');
                lightboxImg.src = '';
            }, 300);
            document.body.style.overflow = ''; // Restore scrolling
        }

        // Close on Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                closeLightbox();
            }
        });

        // Reveal Animation Observer
        const observerOptions = {
            threshold: 0.1,
            rootMargin: "0px 0px -50px 0px"
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // Mobile Menu Toggle
        const menuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');
        let isMenuOpen = false;

        function toggleMenu() {
            isMenuOpen = !isMenuOpen;
            if (isMenuOpen) {
                mobileMenu.classList.remove('invisible', 'opacity-0', '-translate-y-4');
                mobileMenu.classList.add('visible', 'opacity-100', 'translate-y-0');
            } else {
                mobileMenu.classList.add('invisible', 'opacity-0', '-translate-y-4');
                mobileMenu.classList.remove('visible', 'opacity-100', 'translate-y-0');
            }
        }

        menuBtn.addEventListener('click', toggleMenu);

        // Close mobile menu on link click
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                if(isMenuOpen) toggleMenu();
            });
        });

        // Navbar Scroll Effect
        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 20) {
                navbar.classList.add('shadow-sm');
                navbar.classList.replace('bg-white/70', 'bg-white/90');
            } else {
                navbar.classList.remove('shadow-sm');
                navbar.classList.replace('bg-white/90', 'bg-white/70');
            }
        });

        // --- Three.js 3D Background Logic ---
        const initThreeJS = () => {
            const canvas = document.getElementById('canvas3d');
            const scene = new THREE.Scene();
            
            // Camera setup
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 6;

            // Renderer setup
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            // Lighting (Needed for solid objects)
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            
            const dirLight = new THREE.DirectionalLight(0xffffff, 0.8);
            dirLight.position.set(5, 10, 7);
            scene.add(dirLight);

            // Objects Group
            const group = new THREE.Group();
            scene.add(group);

            const colors = [0xf97316, 0xa855f7, 0x06b6d4, 0xec4899]; // Orange, Purple, Cyan, Pink

            // --- Helper Functions to Create Specific Objects ---

            // 1. Create Pawn (Pion) - Combination of Cylinder, Cone, Sphere
            function createPawn(color) {
                const pawnGroup = new THREE.Group();
                const material = new THREE.MeshPhongMaterial({ color: color, flatShading: true, shininess: 30 });
                
                // Base
                const base = new THREE.Mesh(new THREE.CylinderGeometry(0.3, 0.4, 0.1, 16), material);
                base.position.y = -0.4;
                
                // Body
                const body = new THREE.Mesh(new THREE.ConeGeometry(0.25, 0.7, 16), material);
                body.position.y = 0;
                
                // Head
                const head = new THREE.Mesh(new THREE.SphereGeometry(0.2, 16, 16), material);
                head.position.y = 0.45;
                
                pawnGroup.add(base, body, head);
                return pawnGroup;
            }

            // 2. Create Card (Kartu)
            function createCard(color) {
                const geometry = new THREE.BoxGeometry(0.8, 1.1, 0.02);
                const material = new THREE.MeshPhongMaterial({ color: color, shininess: 10 });
                return new THREE.Mesh(geometry, material);
            }

            // 3. Create Dice (Dadu D6)
            function createDice(color) {
                const geometry = new THREE.BoxGeometry(0.6, 0.6, 0.6);
                const material = new THREE.MeshPhongMaterial({ color: color, flatShading: true });
                return new THREE.Mesh(geometry, material);
            }

            // 4. Create D20 (Dadu 20 Sisi)
            function createD20(color) {
                const geometry = new THREE.IcosahedronGeometry(0.5, 0);
                const material = new THREE.MeshPhongMaterial({ color: color, flatShading: true });
                return new THREE.Mesh(geometry, material);
            }

            // --- Generate Floating Objects ---
            const objectTypes = [createPawn, createCard, createDice, createD20];
            const objects = [];

            for (let i = 0; i < 20; i++) {
                const typeFunc = objectTypes[Math.floor(Math.random() * objectTypes.length)];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                const mesh = typeFunc(color);
                
                // Random position spread
                mesh.position.x = (Math.random() - 0.5) * 18;
                mesh.position.y = (Math.random() - 0.5) * 18;
                mesh.position.z = (Math.random() - 0.5) * 12;
                
                // Random rotation
                mesh.rotation.x = Math.random() * Math.PI;
                mesh.rotation.y = Math.random() * Math.PI;

                // Animation data
                mesh.userData = {
                    rotX: (Math.random() - 0.5) * 0.01,
                    rotY: (Math.random() - 0.5) * 0.01,
                    floatSpeed: (Math.random() * 0.002) + 0.001,
                    floatOffset: Math.random() * Math.PI * 2
                };

                group.add(mesh);
                objects.push(mesh);
            }

            // Mouse interaction
            let mouseX = 0;
            let mouseY = 0;
            let targetX = 0;
            let targetY = 0;

            const windowHalfX = window.innerWidth / 2;
            const windowHalfY = window.innerHeight / 2;

            document.addEventListener('mousemove', (event) => {
                mouseX = (event.clientX - windowHalfX);
                mouseY = (event.clientY - windowHalfY);
            });

            // Mobile Gyroscope Interaction for Background
            window.addEventListener('deviceorientation', (e) => {
                if (e.gamma && e.beta) {
                    // Amplify the tilt for better effect
                    mouseX = e.gamma * 10; 
                    mouseY = (e.beta - 45) * 10;
                }
            });

            // Animation Loop
            const animate = () => {
                requestAnimationFrame(animate);

                targetX = mouseX * 0.0005;
                targetY = mouseY * 0.0005;

                // Smooth rotation of the whole group based on mouse
                group.rotation.y += 0.05 * (targetX - group.rotation.y);
                group.rotation.x += 0.05 * (targetY - group.rotation.x);

                // Animate individual objects
                const time = Date.now() * 0.001;
                objects.forEach(obj => {
                    obj.rotation.x += obj.userData.rotX;
                    obj.rotation.y += obj.userData.rotY;
                    
                    // Floating effect
                    obj.position.y += Math.sin(time + obj.userData.floatOffset) * 0.005;
                });

                renderer.render(scene, camera);
            };

            animate();

            // Handle Resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        };

        // Start Three.js when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            initThreeJS(); // Background 3D
            initCSS3DCard(); // Product 3D Card (CSS Version)
        });

        // --- CSS 3D Card Logic ---
        let currentImage = 'boardgame1.jpeg'; // Global variable for lightbox

        const initCSS3DCard = () => {
            const card = document.getElementById('card');
            const container = document.getElementById('product-viewer-container');
            const imgFront = document.getElementById('card-img-front');
            
            const images = ['boardgame1.jpeg', 'boardgame2.jpeg', 'boardgame3.jpeg', 'boardgame4.jpeg', 'boardgame.jpeg'];
            let currentIndex = 0;

            // Mouse Interaction Variables
            let isDragging = false;
            let startX, startY;
            let currentRotX = 0;
            let currentRotY = 0;
            let targetRotX = 0;
            let targetRotY = 0;

            // Drag Logic (Mouse)
            container.addEventListener('mousedown', (e) => {
                isDragging = true;
                startX = e.clientX;
                startY = e.clientY;
                card.classList.remove('auto-rotate'); // Stop auto rotation
                container.style.cursor = 'grabbing';
            });

            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                const deltaX = e.clientX - startX;
                const deltaY = e.clientY - startY;
                
                targetRotY = currentRotY + deltaX * 0.5;
                targetRotX = currentRotX - deltaY * 0.5;
                
                card.style.transform = `translateZ(-50px) rotateX(${targetRotX}deg) rotateY(${targetRotY}deg)`;
            });

            window.addEventListener('mouseup', () => {
                if (isDragging) {
                    isDragging = false;
                    currentRotX = targetRotX;
                    currentRotY = targetRotY;
                    container.style.cursor = 'grab';
                }
            });

            // Drag Logic (Touch - Mobile)
            container.addEventListener('touchstart', (e) => {
                isDragging = true;
                startX = e.touches[0].clientX;
                startY = e.touches[0].clientY;
                card.classList.remove('auto-rotate');
            }, { passive: false });

            window.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                
                // Prevent scrolling ONLY if touching inside the container
                if(e.target.closest('#product-viewer-container')) {
                     e.preventDefault(); 
                }

                const deltaX = e.touches[0].clientX - startX;
                const deltaY = e.touches[0].clientY - startY;
                
                targetRotY = currentRotY + deltaX * 0.5;
                targetRotX = currentRotX - deltaY * 0.5;
                
                card.style.transform = `translateZ(-50px) rotateX(${targetRotX}deg) rotateY(${targetRotY}deg)`;
            }, { passive: false });

            window.addEventListener('touchend', () => {
                if (isDragging) {
                    isDragging = false;
                    currentRotX = targetRotX;
                    currentRotY = targetRotY;
                }
            });

            // Navigation Logic with Animation
            const updateImages = () => {
                const imgPath = images[currentIndex];
                currentImage = imgPath;
                imgFront.src = imgPath;
            };

            const animateFlip = (direction) => {
                card.classList.remove('auto-rotate');
                
                // 1. Slow down for animation
                card.style.transition = 'transform 0.6s cubic-bezier(0.4, 0.0, 0.2, 1)';
                
                // 2. Rotate 180 degrees to show back (Logo)
                targetRotY += 180;
                targetRotX = 0; // Reset tilt
                card.style.transform = `translateZ(-50px) rotateX(${targetRotX}deg) rotateY(${targetRotY}deg)`;

                // 3. Wait for back to be visible
                setTimeout(() => {
                    // Change Image while hidden
                    if (direction === 'next') {
                        currentIndex = (currentIndex + 1) % images.length;
                    } else {
                        currentIndex = (currentIndex - 1 + images.length) % images.length;
                    }
                    updateImages();

                    // 4. Rotate another 180 degrees to show front again
                    targetRotY += 180;
                    card.style.transform = `translateZ(-50px) rotateX(${targetRotX}deg) rotateY(${targetRotY}deg)`;

                    // 5. Reset transition speed
                    setTimeout(() => {
                        card.style.transition = 'transform 0.1s';
                        currentRotY = targetRotY;
                        currentRotX = targetRotX;
                    }, 600);
                }, 600);
            };

            document.getElementById('nextBtn').addEventListener('click', () => animateFlip('next'));
            document.getElementById('prevBtn').addEventListener('click', () => animateFlip('prev'));
        };

        // --- 3D Hero Text Logic (Mouse & Gyroscope) ---
        const heroTitle = document.getElementById('hero-title');
        
        // Helper to apply 3D transform
        const applyHeroTransform = (xPos, yPos) => {
            if (!heroTitle) return;
            
            // Limit rotation
            const rotateX = -yPos * 10; // Max 10deg
            const rotateY = xPos * 10;

            // Apply transform
            heroTitle.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
            
            // Apply dynamic shadow
            const shadowX = -xPos * 20;
            const shadowY = -yPos * 20;
            heroTitle.style.textShadow = `${shadowX}px ${shadowY}px 30px rgba(0,0,0,0.15)`;
        };

        // Mouse Interaction
        document.addEventListener('mousemove', (e) => {
            const { clientX, clientY } = e;
            const { innerWidth, innerHeight } = window;
            
            // Calculate percentage from center (-1 to 1)
            const xPos = (clientX / innerWidth - 0.5) * 2;
            const yPos = (clientY / innerHeight - 0.5) * 2;

            applyHeroTransform(xPos, yPos);
        });

        // Mobile Gyroscope Interaction
        window.addEventListener('deviceorientation', (e) => {
            // Gamma: Left/Right tilt (-90 to 90)
            // Beta: Front/Back tilt (-180 to 180)
            
            let xPos = 0;
            let yPos = 0;

            if (e.gamma) xPos = Math.min(Math.max(e.gamma / 45, -1), 1); // Clamp -1 to 1
            if (e.beta)  yPos = Math.min(Math.max((e.beta - 45) / 45, -1), 1); // Offset for holding position

            applyHeroTransform(xPos, yPos);
        });
    </script>
</body>
</html>